# í™©êµìˆ˜ë‹˜â€™s ë„ë¹„ë“¤

* ë°ì´í„°ì…‹: í•™ìƒ ìŒì£¼ ë°ì´í„°ì…‹
* ë¶„ì„ ëª©í‘œ: í•™ìƒì˜ ì§€ë•ì²´ë¥¼ ìˆ˜ì–‘í•˜ê¸° ì´ë¡œìš´ í™˜ê²½ ë¶„ì„
* ë¹„ê³ : ì­‰ ê°€
* ì œì¶œ ìë£Œ(GIt): https://github.com/komingsu/AIFFEL_ON3_EDA
* ì œì¶œ ìë£Œ(notion): https://www.notion.so/s-ff419b624ffc4df59581b5d33df98ec3
* íŒ€ ë²ˆí˜¸: 2 íŒ€
* íŒ€ì›: ì¥ì„œí˜„, ê°•ê°€ì›
* íŒ€ì¥: ê³ ë¯¼ìˆ˜

# ì§€ğŸ§ , ë•ğŸ«‚, ì²´ğŸ¦¿ë¥¼ ëª¨ë‘ ê°€ì§„ í•™ìƒë“¤ì˜ í™˜ê²½ ë¶„ì„ğŸ”

## **íšŒê³ **

- **ê°•ê°€ì›**
  - í•œ ì¼
    - health ë°ì´í„°ì— ëŒ€í•œ EDA ë° ê´€ë ¨ ë³€ìˆ˜ í´ëŸ¬ìŠ¤í„°ë§ì„ ì§„í–‰í–ˆë‹¤.
  - ì˜í•œ ì¼
    - health ë°ì´í„°ì™€ ë‹¤ë¥¸ ë³€ìˆ˜ë“¤ê°„ ìƒê´€ê´€ê³„ ë¶„ì„ê³¼ í•´ì„ì„ ìˆ˜í–‰í•˜ë©´ì„œ ê¸°ì¡´ì— í•™ìŠµí•œ EDA ê¸°ë²•ë“¤ì„ ì •ë¦¬í•˜ê³  ì‘ìš©í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì¡Œë‹¤.
    - ë³€ìˆ˜ ì¤‘ìš”ë„ ë„ì¶œ ê²°ê³¼ì— ë”°ë¼ ë³€ìˆ˜ê°„ì˜ ìƒê´€ê´€ê³„ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ìµœì ì˜ ì‹œê°í™” ë°©ë²•ì„ ê³ ë¯¼í•´ë³´ë©´ì„œ ë°ì´í„°ì— ëŒ€í•œ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤.
  - ëª»í•œ ì¼
    - lightgbm ëª¨ë¸ì„ ëŒ€ìƒìœ¼ë¡œ shapê¸°ë°˜ ëª¨ë¸ í•´ì„ì„ ì§„í–‰í–ˆëŠ”ë° ì¶©ë¶„í•œ ëª¨ë¸ í•™ìŠµì„ ì§„í–‰í•˜ì§€ ëª»í•´ ëª¨ë¸ ì„±ëŠ¥ì´ ë‚®ê²Œ ë„ì¶œë˜ì—ˆê³  ëª¨ë¸ í•´ì„ ê²°ê³¼ì— ì˜í–¥ì´ ìˆì„ ê²ƒ ê°™ë‹¤.
      - ê°œì„  ë°©í–¥: í•˜ì´í¼ íŒŒë¼ë¯¸í„° íŠœë‹ ë“±ì˜ ì¶”ê°€ ëª¨ë¸ ê°œì„  ë°©ì•ˆì„ ì¶”ê°€ ì§„í–‰í•˜ê³  XAI í•´ì„ì„ í•˜ì.
    - ì‹œê°í™” íˆ´ì„ ì¢€ ë” ììœ ìì¬ë¡œ ì‘ìš©í•˜ê³  ìˆ™ë‹¬í•  ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•´ì•¼ê² ë‹¤.
- **ê³ ë¯¼ìˆ˜ğŸ‘½**
  - ë¨¸ë¦¿ì†ì—ì„œ ê·¸ë ¤ì§€ëŠ” ìƒê´€ê´€ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë³´ê³ ì í•˜ëŠ” ë§ˆìŒì´ ì–¼ë§ˆë‚˜ ì½”ìŠ¤íŠ¸ê°€ í°ì§€ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ì´ ê¸°íšŒë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ ìƒí™©ì—ë„ ì ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë‘˜ ìˆ˜ ìˆì—ˆê³ , ìƒí™©ì— ì–´ìš¸ë¦¬ëŠ” ê·¸ë˜í”„ë¥¼ ì—°ê²°í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ ìƒê²¼ìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì¡°ê¸ˆ ì•„ì‰¬ìš´ ì ì€ ëŒ€ë¶€ë¶„ì˜ ì‹œê°í™”ë¥¼ matplotlib.pyplot ê³¼ seaborn ì„ í†µí•´ ì§„í–‰í–ˆëŠ”ë°, plotlyì™€ ê°™ì€ ì¢€ ë” ìœ ì—°í•˜ê³  ì¢‹ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ í•˜ëŠ” ì•„ì‰¬ì›€ì´ ìˆìŠµë‹ˆë‹¤.
- **ì¥ì„œí˜„**
  - ë…¸ë“œë¥¼ ë³´ë©° ì´ë¯¸ ì‘ì„±ë˜ì–´ìˆëŠ” íë¦„ëŒ€ë¡œ ë”°ë¼ê°€ê¸°ë§Œ í•˜ë‹¤ê°€ ë‚´ê°€ ì›í•˜ëŠ” íë¦„ì„ ë§Œë“¤ì–´ì„œ ê°€ì‹œí™” ìë£Œë¥¼ êµ¬í˜„í•˜ê³  ìœ ì˜ë¯¸í•œ ë°ì´í„°ë¥¼ ì–»ëŠ”ê²Œ ì°¸ í˜ë“¤ê³  ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ëŠ” ì‘ì—…ì´êµ¬ë‚˜ ë¼ëŠ”ê²ƒì„ ëŠë‚„ ìˆ˜ ìˆë˜ ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤. ì§„í–‰ì„ í•˜ë©´ì„œ í•¨ìˆ˜ì‘ì„±í• ë•Œ, ê°€ì‹œí™” ì½”ë“œ ì‘ì„±í• ë•Œ, ë‹¤ë¥¸ ì‚¬ëŒ ì½”ë“œ í•´ì„í•  ë•Œ ë“±ë“± ë‡Œì •ì§€ì˜¨ ìˆœê°„ì´ êµ‰ì¥íˆ ê¸¸ê³  ë§ì•˜ëŠ”ë°, ë‹¤ë¥¸ íŒ€ì›ë¶„ë“¤ê»˜ì„œ í•˜ì‹œëŠ” ê²ƒ ë³´ë©´ì„œ íŒíŠ¸ë„ ì–»ê³  ì „ì²˜ë¦¬ë¡œ ì–´ë””ê¹Œì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ”ì§€ ë“±ë“± ë„ì›€ì„ ë§ì´ ë°›ì•˜ìŠµë‹ˆë‹¤.
  - ì•ìœ¼ë¡œì˜ ë‹¤ì§
    - í•¨ìˆ˜ë¥¼ ì˜ í™œìš©í•˜ì
    - í•™ìŠµ ëª¨ë¸ì„ ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´ í•™ìŠµ ë©”ì»¤ë‹ˆì¦˜ê³¼ ë„ì¶œ ê·¼ê±°ë¥¼ ì˜ ì•Œê³  ì‚¬ìš©í•˜ì (ìˆ˜ì›”í•œ ë°ì´í„° í•´ì„ê³¼ ê°œì„  ì  íŒŒì•…ì„ ìœ„í•´)

## 1. ê°œìš”

### **1.1 í”„ë¡œì íŠ¸ ì£¼ì œ**

- â€œ**í•™ìƒ ìŒì£¼ ë°ì´í„°ì„ í™œìš©í•œ ë°ì´í„°ë¶„ì„â€** ì´ë¼ëŠ” ì£¼ì œë¡œ **ì§€**, **ë•**, **ì²´**ë¥¼ ê³ ë£¨ ê°–ì¶˜ í•™ìƒë“¤ì€ ì–´ë–¤ í™˜ê²½ì  ìš”ì¸ì„ ê°€ì§€ëŠ”ì§€ ë¶„ì„í•˜ê³  ì‹œê°í™” í•˜ê³ ìí•©ë‹ˆë‹¤.
- [Student Alcohol Consumption | Kaggle](https://www.kaggle.com/datasets/uciml/student-alcohol-consumption)

### **1.2 í”„ë¡œì íŠ¸ ëª©ì **

í•™ìƒì´ë¼ë©´ ëª¨ë¦„ì§€ê¸° ì„±ì‹¤í•˜ê²Œ ê³µë¶€í•˜ì—¬ ë†’ì€ ì„±ì ì„ ì´ë£¨ê³ , ë‚˜ìœ ê²ƒì„ í”¼í•˜ê³ , ì‹¬ì‹ ì´ ê±´ê°•í•´ì•¼ í•¨ì´ ë³¸ë¶„ì¼ ê²ƒì…ë‹ˆë‹¤. ì´ì— ì €í¬ ì¡°ëŠ” ê·¸ëŸ° í•™ìƒì´ ë˜ëŠ” ìµœì ì˜ ì¡°ê±´ì€ ë¬´ì—‡ì¸ê°€ ë‚±ë‚¯ë‚«ë‚Ÿì´ íŒŒí—¤ì³ ë³´ê³ ì í•©ë‹ˆë‹¤.

ì €ì˜ê°€ ì •ì˜í•œ **ì§€, ë•, ì²´**ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤

- **ì§€**ğŸ§  : ë†’ì€ ì„±ì ì„ ê°€ì§€ëŠ” í•™ìƒë“¤ì˜ í™˜ê²½ì  ìš”ì¸ ë¶„ì„
- **ë•**ğŸ«‚ : ìŒì£¼ë¥¼ ë§ì´ í•˜ëŠ” í•™ìƒë“¤ì˜ í™˜ê²½ì  ìš”ì¸ ë¶„ì„
- **ì²´**ğŸ¦¿ : ê±´ê°•í•œ í•™ìƒë“¤ì˜ í™˜ê²½ì  ìš”ì¸ ë¶„ì„

### **1.3 í”„ë¡œì íŠ¸ ì§„í–‰ ìˆœì„œ**

- ë°ì´í„° ì „ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- ì „ì²´ì ì¸ data skimmingê³¼ ê±°ì£¼ğŸ , ë¶€ëª¨ğŸ‘«, í•™ì—…âœï¸, ìƒí™œìŠµê´€ ğŸº ë“±ìœ¼ë¡œ ì„¸ë¶„í™”í•˜ì—¬ ë°ì´í„° ì‹œê°í™”ë¥¼ ì§„í–‰í•˜ê³ , ê° ìš”ì¸ë¶„ì„ì—ì„œ ì¤‘ìš”í•œ íŠ¹ì„±ì„ ë¶„ì„í•©ë‹ˆë‹¤.
- ë˜í•œ â€œ**ì§€ë•ì²´â€** ë¿ë§Œ ì•„ë‹ˆë¼ í™˜ê²½ì  ìš”ì¸ë¼ë¦¬ ë‚˜íƒ€ë‚˜ëŠ” íŠ¹ì§•ë„ ì‹œê°í™”ğŸ“ˆ í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê²°ë¡ ì„ ë„ì¶œí•©ë‹ˆë‹¤.
- ê°ì‚¬í•©ë‹ˆë‹¤.

### **1.4 ë°ì´í„° ì†Œê°œ**

- **Target features**
  Dalc - í‰ì¼ì— ìˆ ë§ˆì‹œëŠ” ì •ë„ [1(ì—†ìŒ) / 2 / 3/ 4/ 5(ì•„ì£¼ë§ìŒ) ]
  Walc - ì£¼ë§ì— ìˆ ë§ˆì‹œëŠ” ì •ë„ [1(ì—†ìŒ) / 2 / 3/ 4/ 5(ì•„ì£¼ë§ìŒ) ]
  health - ê±´ê°• ì •ë„ [1(ì•„ì£¼ë‚˜ì¨) / 2 / 3/ 4/ 5(ì•„ì£¼ì¢‹ìŒ) ]
  G1 - first period grade [ 0 ~ 20 ]
  G2 - second period grade [ 0 ~ 20 ]
  G3 - final grade [ 0 ~ 20 ] - target
  ***
  ìƒì„±í•œ Target features
  GT - ì´ì  [G1 + G2 + G3 ì˜ ê°’]
  GT_scale - ì´ì  standard scale [0ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ê·œí™”í•œ ì´ì ]
  GT_scale_rank - GT_scaleì„ ê¸°ì¤€ìœ¼ë¡œ ë§¤ê¸´ ë“±ìˆ˜
  GT_scale_rank_bin - GT_scale_rankë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œêµ­ì‹ ë“±ê¸‰í‘œ ì ìš©
  Talc - ìˆ ì„ ë§ˆì‹œëŠ” ì •ë„ (Dalc + Walc) [2(ì—†ìŒ) ~ 10(ì•„ì£¼ë§ìŒ)]
- **Binary features**
  - **Code**
    ```python
    bin_feature = ['schoolsup', 'famsup', 'paid', 'activities', 'nursery', 'higher',
                   'internet', 'romantic', 'school', 'sex', 'address', 'famsize', 'Pstatus']

    for idx, feature in enumerate(bin_feature):
        plt.figure(figsize=(20,7))
        ax = plt.subplot(1,3,1)
        sns.countplot(x=feature,
                     data=both,
                     ax=ax)
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        sns.countplot(x=feature,
                     data=both,
                      hue="GT_scale_rank_bin",
                     ax=ax)
        write_percent(ax, len(both))
        plt.legend(title="Total score bin")

        ax = plt.subplot(1,3,2)
        sns.countplot(x=feature,
                     data=both,
                     ax=ax)
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        sns.countplot(x=feature,
                     data=both,
                      hue="health",
                     ax=ax)
        write_percent(ax, len(both))

        ax = plt.subplot(1,3,3)
        sns.countplot(x=feature,
                     data=both,
                     ax=ax)
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        sns.countplot(x=feature,
                     data=both,
                      hue="Talc",
                     ax=ax)
        write_percent(ax, len(both))
        plt.show()
    ```
  schoolsup - í•™êµì˜ ì§€ì› [ìœ /ë¬´]
  ![Untitled](images/Untitled.png)
  famsup - ë¶€ëª¨ì˜ ì§€ì› [ìœ /ë¬´]
  ![Untitled](images/Untitled%201.png)
  paid - ì‚¬êµìœ¡ [ìœ /ë¬´]
  ![Untitled](images/Untitled%202.png)
  activities - êµì™¸ í™œë™ [ìœ /ë¬´]
  ![Untitled](images/Untitled%203.png)
  nursery - ìœ ì¹˜ì› ì¶œì‹  [ìœ /ë¬´]
  ![Untitled](images/Untitled%204.png)
  higher - ëª©í‘œì˜ì‹ [ìœ /ë¬´]
  ![Untitled](images/Untitled%205.png)
  Pstatus - ë¶€ëª¨ë‹˜ê³¼ ë™ê±° [ìœ /ë¬´]
  ![Untitled](images/Untitled%206.png)
  internet - ì¸í„°ë„· [ìœ /ë¬´]
  ![Untitled](images/Untitled%207.png)
  romantic - ì—°ì•  [ìœ /ë¬´]
  ![Untitled](images/Untitled%208.png)
  school - í•™êµì˜ ì¢…ë¥˜ [GP/MS]
  ![Untitled](images/Untitled%209.png)
  sex - ì„±ë³„ [ë‚¨/ì—¬]
  ![Untitled](images/Untitled%2010.png)
  address -ê±°ì£¼ [ë„ì‹œ/ì‹œê³¨]
  ![Untitled](images/Untitled%2011.png)
  famsize - ê°€ì¡±êµ¬ì„±ì˜ í¬ê¸° [3ëª…ì´í•˜/3ëª…ì´ˆê³¼]
  ![Untitled](images/Untitled%2012.png)
- **Nominal features**
  - **Code**
    ```python
    nom_feature = ["Mjob","Fjob","reason","guardian"]

    # êµì°¨ë¶„ì„í‘œ
    def get_crosstab_mean(df, feature, target="target"):
        crosstab = pd.crosstab(df[feature], df[target])
        crosstab["count"] = crosstab.sum(axis=1)
        for i in crosstab.columns[:-1]:
            crosstab[i] = crosstab[i]*i
        crosstab["sum"] = crosstab.sum(axis=1)
        crosstab["mean"] = crosstab["sum"] / crosstab["count"]
        crosstab = crosstab.reset_index()
        return crosstab

    ## ìƒˆë¡œìš´ xì¶•ì— ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
    def plot_pointplot(ax, feature, crosstab, target):
        ax2= ax.twinx() # x ì¶•ì€ ê³µìœ í•˜ê³  y ì¶•ì€ ê³µìœ í•˜ì§€ ì•ŠëŠ” ìƒˆë¡œìš´ ì¶•
        ax2= sns.pointplot(x=feature,y="mean", data=crosstab,
                          order=crosstab[feature].values, # í¬ì¸íŠ¸ í”Œë¡¯ì˜ ìˆœì„œ
                          color="black") # ë²”ë¡€í‘œì‹œ x
        ax2.set_ylim(crosstab["mean"].min()*0.95, crosstab["mean"].max()*1.05)
        ax2.set_ylabel(f"{target} mean")

    for idx, feature in enumerate(nom_feature):
        ###
        plt.figure(figsize=(20,7))
        ax = plt.subplot(1,3,1)
        crosstab = get_crosstab_mean(both, feature, target="GT_scale_rank_bin") # êµì°¨ ë¶„ì„í‘œ ì‘ì„±
        # axì¶•ì— ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        sns.countplot(x=feature, data=both,
                     order=crosstab[feature].values,
                     ax=ax)
        # ì¶•ì— ìƒ‰ ë„£ê¸°
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        # ë¹„ìœ¨ í‘œì‹œ
        write_percent(ax, len(both))
        # ax2ì¶•ì— í¬ì¸íŠ¸ í”Œëê·¸ë¦¬ê¸°
        plot_pointplot(ax, feature, crosstab,target="GT_scale_rank_bin")
        ax.set_title(f"{feature} Distribution") # íƒ€ì´í‹€ ì„¤ì •

        ###
        ax = plt.subplot(1,3,2)
        crosstab = get_crosstab_mean(both, feature, target="health") # êµì°¨ ë¶„ì„í‘œ ì‘ì„±
        # axì¶•ì— ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        sns.countplot(x=feature, data=both,
                     order=crosstab[feature].values,
                     ax=ax)
        # ì¶•ì— ìƒ‰ ë„£ê¸°
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        # ë¹„ìœ¨ í‘œì‹œ
        write_percent(ax, len(both))
        # ax2ì¶•ì— í¬ì¸íŠ¸ í”Œëê·¸ë¦¬ê¸°
        plot_pointplot(ax, feature, crosstab,target="health")
        ax.set_title(f"{feature} Distribution") # íƒ€ì´í‹€ ì„¤ì •

        ###
        ax = plt.subplot(1,3,3)
        crosstab = get_crosstab_mean(both, feature, target="Talc") # êµì°¨ ë¶„ì„í‘œ ì‘ì„±
        # axì¶•ì— ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        sns.countplot(x=feature, data=both,
                     order=crosstab[feature].values,
                     ax=ax)
        # ì¶•ì— ìƒ‰ ë„£ê¸°
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        # ë¹„ìœ¨ í‘œì‹œ
        write_percent(ax, len(both))
        # ax2ì¶•ì— í¬ì¸íŠ¸ í”Œëê·¸ë¦¬ê¸°
        plot_pointplot(ax, feature, crosstab,target="Talc")
        ax.set_title(f"{feature} Distribution") # íƒ€ì´í‹€ ì„¤ì •
        plt.tight_layout()
        plt.show()
    ```
  Mjob - ì–´ë¨¸ë‹ˆì˜ ì§ì—… - [ì„ ìƒë‹˜/ì˜ë£Œ/ì„œë¹„ìŠ¤/ì£¼ë¶€/ê¸°íƒ€]
  ![Untitled](images/Untitled%2013.png)
  Fjob - ì•„ë²„ì§€ì˜ ì§ì—… - [ì„ ìƒë‹˜/ì˜ë£Œ/ì„œë¹„ìŠ¤/ì£¼ë¶€/ê¸°íƒ€]
  ![Untitled](images/Untitled%2014.png)
  reason - í•™êµë¥¼ ë‹¤ë‹ˆëŠ” ì´ìœ  - [ì§‘ê³¼ì˜ê±°ë¦¬/í‰íŒ/êµê³¼ê³¼ì •/ê¸°íƒ€]
  ![Untitled](images/Untitled%2015.png)
  guardian - ë³´í˜¸ì - [ì–´ë¨¸ë‹ˆ/ì•„ë²„ì§€/ê¸°íƒ€]
  ![Untitled](images/Untitled%2016.png)
- **Order features**
  - **Code**
    ```python
    from pandas.api.types import CategoricalDtype
    ## ord feature
    ord_feature = ['Medu', 'Fedu', 'traveltime', 'studytime', 'failures', 'famrel', 'freetime', 'goout']
    ## ord dict
    ord_Medu_dict = {0:"None",1:"4í•™ë…„",2:"5~9í•™ë…„",3:"ê³ ë“±í•™êµ",4:"ëŒ€í•™ì´ìƒ"}
    ord_Fedu_dict = {0:"None",1:"4í•™ë…„",2:"5~9í•™ë…„",3:"ê³ ë“±í•™êµ",4:"ëŒ€í•™ì´ìƒ"}
    ord_traveltime_dict = {1:"<15ë¶„",2:"15~30ë¶„",3:"30~60ë¶„",4:"60ë¶„ ì´ìƒ"}
    ord_studytime_dict = {1:"2ì‹œê°„ ì´í•˜",2:"2~5ì‹œê°„",3:"5~10ì‹œê°„",4:"10ì‹œê°„ ì´ìƒ"}
    ord_failures_dict = {0:"ì—†ìŒ",1:"1íšŒ", 2:"2íšŒ",3:"3íšŒ",4:"4íšŒ ì´ìƒ"}
    ord_famrel_dict = {1:"ì•„ì£¼ ë‚˜ì¨",2:"ë‚˜ì¨",3:"í‰ê· ",4:"ì¢‹ìŒ",5:"ì•„ì£¼ì¢‹ìŒ"}
    ord_freetime_dict = {1:"ì—†ìŒ",2:"ì¡°ê¸ˆ ì—†ìŒ",3:"í‰ê· ",4:"ì¡°ê¸ˆ ë§ìŒ",5:"ë§ìŒ"}
    ord_goout_dict = {1:"ì—†ìŒ",2:"ì¡°ê¸ˆ ì—†ìŒ",3:"í‰ê· ",4:"ì¡°ê¸ˆ ë§ìŒ",5:"ë§ìŒ"}

    # ê°’ ë³€í™˜
    both_ord = both.copy()
    both_ord["Medu"] = both_ord["Medu"].apply(lambda x:ord_Medu_dict[x])
    both_ord["Fedu"] = both_ord["Fedu"].apply(lambda x:ord_Fedu_dict[x])
    both_ord["traveltime"] = both_ord["traveltime"].apply(lambda x:ord_traveltime_dict[x])
    both_ord["studytime"] = both_ord["studytime"].apply(lambda x:ord_studytime_dict[x])
    both_ord["failures"] = both_ord["failures"].apply(lambda x:ord_failures_dict[x])
    both_ord["famrel"] = both_ord["famrel"].apply(lambda x:ord_famrel_dict[x])
    both_ord["freetime"] = both_ord["freetime"].apply(lambda x:ord_freetime_dict[x])
    both_ord["goout"] = both_ord["goout"].apply(lambda x:ord_goout_dict[x])

    # type ë³€ê²½
    ord_Medu = CategoricalDtype(categories=list(ord_Medu_dict.values()), ordered=True)
    ord_Fedu = CategoricalDtype(categories=list(ord_Fedu_dict.values()), ordered=True)
    ord_traveltime = CategoricalDtype(categories=list(ord_traveltime_dict.values()), ordered=True)
    ord_studytime = CategoricalDtype(categories=list(ord_studytime_dict.values()), ordered=True)
    ord_failures = CategoricalDtype(categories=list(ord_failures_dict.values()), ordered=True)
    ord_famrel = CategoricalDtype(categories=list(ord_famrel_dict.values()), ordered=True)
    ord_freetime = CategoricalDtype(categories=list(ord_freetime_dict.values()), ordered=True)
    ord_goout = CategoricalDtype(categories=list(ord_goout_dict.values()), ordered=True)
    both_ord["Medu"] =both_ord["Medu"].astype(ord_Medu)
    both_ord["Fedu"] =both_ord["Fedu"].astype(ord_Fedu)
    both_ord["traveltime"] =both_ord["traveltime"].astype(ord_traveltime)
    both_ord["studytime"] =both_ord["studytime"].astype(ord_studytime)
    both_ord["failures"] =both_ord["failures"].astype(ord_failures)
    both_ord["famrel"] =both_ord["famrel"].astype(ord_famrel)
    both_ord["freetime"] =both_ord["freetime"].astype(ord_freetime)
    both_ord["goout"] =both_ord["goout"].astype(ord_goout)

    ## ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
    for idx, feature in enumerate(ord_feature):
        ###
        plt.figure(figsize=(20,7))
        ax = plt.subplot(1,3,1)
        crosstab = get_crosstab_mean(both_ord, feature, target="GT_scale_rank_bin") # êµì°¨ ë¶„ì„í‘œ ì‘ì„±
        # axì¶•ì— ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        sns.countplot(x=feature, data=both_ord,
                     order=crosstab[feature].values,
                     ax=ax)
        # ì¶•ì— ìƒ‰ ë„£ê¸°
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        # ë¹„ìœ¨ í‘œì‹œ
        write_percent(ax, len(both_ord))
        # ax2ì¶•ì— í¬ì¸íŠ¸ í”Œëê·¸ë¦¬ê¸°
        plot_pointplot(ax, feature, crosstab,target="GT_scale_rank_bin")
        ax.set_title(f"{feature} Distribution") # íƒ€ì´í‹€ ì„¤ì •

        ###
        ax = plt.subplot(1,3,2)
        crosstab = get_crosstab_mean(both_ord, feature, target="health") # êµì°¨ ë¶„ì„í‘œ ì‘ì„±
        # axì¶•ì— ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        sns.countplot(x=feature, data=both_ord,
                     order=crosstab[feature].values,
                     ax=ax)
        # ì¶•ì— ìƒ‰ ë„£ê¸°
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        # ë¹„ìœ¨ í‘œì‹œ
        write_percent(ax, len(both_ord))
        # ax2ì¶•ì— í¬ì¸íŠ¸ í”Œëê·¸ë¦¬ê¸°
        plot_pointplot(ax, feature, crosstab,target="health")
        ax.set_title(f"{feature} Distribution") # íƒ€ì´í‹€ ì„¤ì •

        ###
        ax = plt.subplot(1,3,3)
        crosstab = get_crosstab_mean(both_ord, feature, target="Talc") # êµì°¨ ë¶„ì„í‘œ ì‘ì„±
        # axì¶•ì— ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        sns.countplot(x=feature, data=both_ord,
                     order=crosstab[feature].values,
                     ax=ax)
        # ì¶•ì— ìƒ‰ ë„£ê¸°
        for idx in range(len(ax.patches)):
            ax.patches[idx].set_color(sns.husl_palette(len(ax.patches))[idx])
        # ë¹„ìœ¨ í‘œì‹œ
        write_percent(ax, len(both_ord))
        # ax2ì¶•ì— í¬ì¸íŠ¸ í”Œëê·¸ë¦¬ê¸°
        plot_pointplot(ax, feature, crosstab,target="Talc")
        ax.set_title(f"{feature} Distribution") # íƒ€ì´í‹€ ì„¤ì •
        plt.tight_layout()
        plt.show()
    ```
  Medu - ì–´ë¨¸ë‹ˆì˜ ìµœì¢…í•™ë ¥ [ None / 4í•™ë…„ / 9í•™ë…„ / ê³ ë“±í•™êµ / ëŒ€í•™êµ ì´ìƒ ]
  ![Untitled](images/Untitled%2017.png)
  Fedu - ì•„ë²„ì§€ì˜ ìµœì¢…í•™ë ¥ [ None / 4í•™ë…„ / 9í•™ë…„ / ê³ ë“±í•™êµ / ëŒ€í•™êµ ì´ìƒ ]
  ![Untitled](images/Untitled%2018.png)
  traveltime - í†µí•™ì‹œê°„ [ 1 ( <15 min) / 2 (15 to 30 min) / 3 (30 min. to 1 hour) / 4 ( >1 hour) ]
  ![Untitled](images/Untitled%2019.png)
  studytime - ì£¼ë‹¹ ê³µë¶€ì‹œê°„ [ 1 (<2 hours) / 2 (2 to 5 hours) / 3 (5 to 10 hours) / 4 ( >10 hours) ]
  ![Untitled](images/Untitled%2020.png)
  failures - ë‚™ì œ íšŸìˆ˜ [ 0 / 1 / 2 / 3~ ]
  ![Untitled](images/Untitled%2021.png)
  famrel - ê°€ì¡±ê°„ì˜ ê´€ê³„ [1(ì•„ì£¼ë‚˜ì¨) / 2 / 3/ 4/ 5(ì•„ì£¼ì¢‹ìŒ) ]
  ![Untitled](images/Untitled%2022.png)
  freetime - ë°©ê³¼í›„ ë‚¨ëŠ” ì‹œê°„ [1(ì—†ìŒ) / 2 / 3/ 4/ 5(ì•„ì£¼ë§ìŒ) ]
  ![Untitled](images/Untitled%2023.png)
  goout - ì¹œêµ¬ë“¤ê³¼ ë†€ëŸ¬ê°€ê¸° [1(ì—†ìŒ) / 2 / 3/ 4/ 5(ì•„ì£¼ë§ìŒ) ]
  ![Untitled](images/Untitled%2024.png)
- **Numerical features**
  age - ë‚˜ì´ [15 ~ 22]
  ![Untitled](images/Untitled%2025.png)
  absences - ê²°ì„ íšŸìˆ˜ [ 0 ~ 93 ]
  ![Untitled](images/Untitled%2026.png)
  ![Untitled](images/Untitled%2027.png)
  ![Untitled](images/Untitled%2028.png)

## 2. ì „ì²˜ë¦¬

- **Code**
  ```python
  import pandas as pd
  import numpy as np
  from sklearn.preprocessing import StandardScaler

  def make_rank(data, feature):
      df = data.copy()
      for f in feature:
          df[f"{f}_rank"] = df[f].apply(lambda x: sorted(df[f].values, reverse=True).index(x)+1)
      return df

  def make_rank_bin(data, feature):
      df = data.copy()
      def make_bin(x):
          if x<=4: return 1
          elif x<=11: return 2
          elif x<=23: return 3
          elif x<=40: return 4
          elif x<=60: return 5
          elif x<=77: return 6
          elif x<=89: return 7
          elif x<=96: return 8
          else: return 9

      for f in feature:
          df[f"{f}_bin"] = df[f].apply(lambda x: x/len(df)*100)

      for f in feature:
          df[f"{f}_bin"] = df[f"{f}_bin"].apply(lambda x: make_bin(x))
      return df

  def make_scaling(data,feature):
      df = data.copy()
      scaler = StandardScaler()

      for f in feature:
          df[f"{f[:2]}_scale"] = scaler.fit_transform(df[[f]]).reshape(-1,1)

      return df

  ### ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
  math = pd.read_csv("../../1.raw_data/student-mat.csv")
  port = pd.read_csv("../../1.raw_data/student-por.csv")

  ### ê³¼ëª© í”¼ì³ ì¶”ê°€
  math["subject"]="math"
  port["subject"]="port"

  ### Both í…Œì´ë¸” ìƒì„±
  both = pd.concat([math,port], axis=0)

  ### Both GT ìƒì„±
  both["GT_scale"]=both["G1_scale"]+both["G2_scale"]+both["G3_scale"]
  both = make_scaling(both, ["GT_scale"])

  ### ë“±ìˆ˜ ì¶”ê°€
  both = make_rank(both, ["G1_scale","G2_scale","G3_scale","GT_scale"])

  ### ë“±ê¸‰ ì¶”ê°€
  both = make_rank_bin(both, ["G1_scale_rank","G2_scale_rank","G3_scale_rank","GT_scale_rank"])

  ### ìŒì£¼ëŸ‰ ì´í•©
  both["Talc"] = both["Walc"]+both["Dalc"]

  ### ì €ì¥
  both.to_csv("both.csv", index=False)
  ```
- ë‚´ìš©
  - êµ­ì–´, ìˆ˜í•™ ê°ê°ì˜ 1,2,3ì˜ ì ìˆ˜ Standard ìŠ¤ì¼€ì¼ë§ (ë³€í™˜)
  - êµ­ì–´, ìˆ˜í•™ ê°ê°ì˜ ê³¼ëª© í”¼ì³ ìƒì„±
  - **Both = (êµ­ì–´, ìˆ˜í•™)ì„ axis=0ìœ¼ë¡œ Concatenation**
  - Bothì˜ ì´ì (T) í”¼ì³ ìƒì„±
  - **Bothì˜ ì´ì  í”¼ì³ Standard ìŠ¤ì¼€ì¼ë§ (ë³€í™˜)**
  - Bothì˜ 1,2,3, Tì˜ ë“±ìˆ˜ í”¼ì³ ìƒì„±
  - **Bothì˜ 1,2,3, Tì˜ 1~9ë“±ê¸‰ í”¼ì³ ìƒì„±**
  - Bothì˜ í‰ì¼ìŒì£¼ëŸ‰(Walc) + ì£¼ë§ìŒì£¼ëŸ‰(Dalc) = ìŒì£¼ëŸ‰(Talc)

## 3. EDA

## ì§€ğŸ§ 

<aside>
ğŸ’¡ ê³¼ì—° ì´ ë„ë¹„ëŠ” ì„±ì ì´ ì¢‹ì€ ëŠë‚Œì„ ì•Œê¹Œìš”?

ì„±ì ê³¼ ê´€ë ¨ì´ ìˆëŠ” ìš”ì†Œë“¤ì„ ì¡°ì‚¬ğŸ”í•˜ê³ 

ë„ë¹„ì˜ ììœ ì„ ìœ„í•´ ë†’ì€ ì„±ì ğŸ“ˆì„ ë°›ëŠ” í™˜ê²½ì„ ë§Œë“¤ì–´ ì¤ì‹œë‹¤.

</aside>

**1. ì„±ì ë°ì´í„° í›”ì³ì˜¤ê¸°**ğŸ¥·

ìˆ˜í•™ ë°ì´í„°ì™€ êµ­ì–´ ë°ì´í„°ë¥¼ í›”ì³ì˜¤ëŠ”ë° ì„±ê³µí–ˆìŠµë‹ˆë‹¤. ë°ì´í„° ë¶„í¬ë¥¼ í•œ ë²ˆ ë³´ì£ .

- **Code**
  ![Untitled](images/Untitled%2029.png)
  ```python
  # ì„±ì  ë¶„í¬
  plt.figure(figsize=(10,6))
  plt.subplot(2,1,1)
  sns.distplot(math["GT_math"], label="ì „ì²´ ìˆ˜í•™ì„±ì ")
  sns.distplot(port["GT_port"], label="ì „ì²´ êµ­ì–´ì„±ì ")
  plt.title("ìˆ˜í•™, êµ­ì–´ ì „ì²´ì„±ì  ")
  plt.legend()

  plt.subplot(2,1,2)
  sns.distplot(math["GT_scale_math"], label="ì „ì²´ scaled ìˆ˜í•™ì„±ì ")
  sns.distplot(port["GT_scale_port"], label="ì „ì²´ scaled êµ­ì–´ì„±ì ")
  sns.distplot(both["GT_scale"],label="concat data")
  plt.title("ìˆ˜í•™, êµ­ì–´ scaled ì „ì²´ì„±ì ")
  plt.legend()

  plt.tight_layout()
  plt.show()
  ```

![Untitled](images/Untitled%2030.png)

ì•„ë¬´ë˜ë„ ìˆ˜í•™ì´ êµ­ì–´ë³´ë‹¤ëŠ” ì–´ë ¤ì› ë˜ê±° ê°™ìŠµë‹ˆë‹¤. êµ­ì–´ë³´ë‹¤ ìˆ˜í•™ì´ í¸ì°¨ê°€ í°ê²ƒë„ ì•Œ ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.

ì €í¬ê°€ ê°€ì§„ ë°ì´í„°ì˜ ìˆ˜ê°€ ì ìœ¼ë‹ˆ ì •ê·œí™”ë¥¼ í•´ì£¼ê³  ì ìˆ˜ë¥¼ í•©ì³ì£¼ê² ìŠµë‹ˆë‹¤.

**2. ì¤‘ìš”í•œ ì¢…ì†ë³€ìˆ˜ ì°¾ì•„ë³´ê¸°**

ì¢…ì†ë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ìœ¼ë‹ˆ ì¤‘ìš”í•œ ë³€ìˆ˜ë¥¼ ì°¾ì•„ë³´ê² ìŠµë‹ˆë‹¤.

LGBMì„ ì´ìš©í•˜ì—¬ êµ¬í•´ë³´ë„ë¡ í•©ë‹ˆë‹¤.

- **Code**
  ```python
  ## X, y ì„¤ì •
  X_both = both[['school', 'sex', 'age', 'address', 'famsize', 'Pstatus', 'Medu', 'Fedu',
         'Mjob', 'Fjob', 'reason', 'guardian', 'traveltime', 'studytime',
         'failures', 'schoolsup', 'famsup', 'paid', 'activities', 'nursery',
         'higher', 'internet', 'romantic', 'famrel', 'freetime', 'goout', 'Dalc',
         'Walc', 'absences']]

  y_both = both["GT_scale"]

  ## íŒŒë¼ë¯¸í„° ì„¤ì •
  lgb_param = {
      'objective': 'regression',
      'learning_rate': 0.05,
      'num_leaves': 15,
      'bagging_fraction': 0.7,
      'bagging_freq': 1,
      'feature_fraction': 0.7,
      'seed': 42,
      'metric': ['rmse'],
      'verbose': -1,
  }

  ## ì¸ì½”ë”©
  cat_cols = X_both.select_dtypes('object').columns
  for col in cat_cols:
      le = LabelEncoder()
      X_both[col] = le.fit_transform(X_both[col])

  ## Feature Importance ì¶”ì¶œ
  def get_FI_lgb(X_train, y_train, lgb_param):

      folds = KFold(n_splits=5, shuffle=True, random_state=RANDOM_SEED)
      oof = np.zeros(len(X_train))
      feature_importance_df = pd.DataFrame()
      params = {'verbose': -1}
      for fold_, (trn_idx, val_idx) in enumerate(folds.split(X_train.values, y_train.values)):
          trn_data = lgb.Dataset(X_train.iloc[trn_idx], label=y_train.iloc[trn_idx], params=params)
          val_data = lgb.Dataset(X_train.iloc[val_idx], label=y_train.iloc[val_idx])
          num_round = 100000
          clf = lgb.train(lgb_param, trn_data, num_round, valid_sets=[trn_data, val_data],
                          verbose_eval=False, early_stopping_rounds=200)
          oof[val_idx] = clf.predict(X_train.iloc[val_idx], num_iteration=clf.best_iteration)
          cv_fold_score = rmse_exp(y_train.iloc[val_idx], oof[val_idx])
          fold_importance_df = pd.DataFrame()
          fold_importance_df['feature'] = X_train.columns.tolist()
          fold_importance_df['importance'] = clf.feature_importance('gain')
          fold_importance_df['fold'] = fold_ + 1
          feature_importance_df = pd.concat([feature_importance_df, fold_importance_df], axis=0)

      cv_score = rmse_exp(y_train, oof)
      print(f'CV-Score: {cv_score:.6f}')
      return feature_importance_df

  fi_df_both = get_FI_lgb(X_both, y_both, lgb_param)
  # ê²°ê³¼ CV-Score: 0.260035

  ## ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
  plt.figure(figsize=(10,5))

  cols = (fi_df_both[['feature', 'importance']]
          .groupby('feature')
          .mean()
          .sort_values(by='importance', ascending=False)[:20].index)
  best_features = fi_df_both.loc[fi_df_both.feature.isin(cols)]

  sns.barplot(x='importance', y='feature', data=best_features.sort_values(by='importance', ascending=False))
  plt.title('GT_scaled_both - Feature Importances (averaged over folds)')
  plt.tight_layout()
  ```

![Untitled](images/Untitled%2031.png)

ë‚™ì œì™€ ê²°ì„ì´ ì„±ì ê³¼ ê°€ì¥ ë†’ì€ ì¤‘ìš”ë„ë¥¼ ë³´ì…ë‹ˆë‹¤. ë„ˆë¬´ ë»”í•œ ë‚´ìš© ê°™ìœ¼ë‹ˆ ë‘ í”¼ì³ëŠ” ì œì™¸í•˜ê³  ë‹¤ì‹œ í™•ì¸í•´ë³´ì£ 

- **Code**
  ```python
  ## ì¢…ì†ë³€ìˆ˜ ì¶”ì¶œ
  X_both = both[['school', 'sex', 'age', 'address', 'famsize', 'Pstatus', 'Medu', 'Fedu',
         'Mjob', 'Fjob', 'reason', 'guardian', 'traveltime', 'studytime', 'schoolsup', 'famsup', 'paid', 'activities', 'nursery',
         'higher', 'internet', 'romantic', 'famrel', 'freetime', 'goout', 'Dalc',
         'Walc']]

  y_both = both["GT_scale"]

  ## íŒŒë¼ë¯¸í„° ì„¤ì •
  lgb_param = {
      'objective': 'regression',
      'learning_rate': 0.05,
      'num_leaves': 15,
      'bagging_fraction': 0.7,
      'bagging_freq': 1,
      'feature_fraction': 0.7,
      'seed': 42,
      'metric': ['rmse'],
      'verbose': -1,
  }

  ## ì¸ì½”ë”©
  cat_cols = X_both.select_dtypes('object').columns
  for col in cat_cols:
      le = LabelEncoder()
      X_both[col] = le.fit_transform(X_both[col])

  ## Feature Importance ì¶”ì¶œ
  fi_df_both = get_FI_lgb(X_both, y_both, lgb_param)
  #CV-Score: 1.579044

  ## ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
  plt.figure(figsize=(10,5))

  cols = (fi_df_both[['feature', 'importance']]
          .groupby('feature')
          .mean()
          .sort_values(by='importance', ascending=False)[:20].index)
  best_features = fi_df_both.loc[fi_df_both.feature.isin(cols)]

  sns.barplot(x='importance', y='feature', data=best_features.sort_values(by='importance', ascending=False))
  plt.title('GT_scaled_both - Feature Importances (averaged over folds)')
  plt.tight_layout()
  ```

![Untitled](images/Untitled%2032.png)

ì „í˜€ ëª¨ë¥´ê² êµ°ìš”. ì„±ì ì„ ì˜ë°›ê¸°ë€ ì‰¬ìš´ê²Œ ì•„ë‹Œê°€ ë´…ë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ í™˜ê²½ì„ ë‚˜ëˆ ì„œ ë¶„ì„í•´ë³´ë„ë¡ í•˜ì£ 

**3. ë¶€ëª¨ë‹˜**ğŸ‘«**ì˜ ì§ì—…**

ì—­ì‹œ ìš°ë¦¬ ë„ë¹„ì—ê²Œ ì„ ë¬¼í•  ê°€ì¥ ì¤‘ìš”í•œê±´ ë¶€ëª¨ë‹˜ì´ê² ì£ . ë¶€ëª¨ë‹˜ì˜ ì§ì—…ë³„ ì„±ì ë¶„í¬ë¥¼ í™•ì¸í•´ë´…ì‹œë‹¤.

- **Code**
  ```python
  plt.figure(figsize=(10,10))
  plt.subplot(2,2,1)
  sns.boxenplot(data=both, x="Mjob", y="GT_scale")
  sns.swarmplot(data=both, x="Mjob", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               both[both["Mjob"]=="at_home"]["GT_scale"].values.mean(),
               both[both["Mjob"]=="health"]["GT_scale"].values.mean(),
               both[both["Mjob"]=="other"]["GT_scale"].values.mean(),
               both[both["Mjob"]=="services"]["GT_scale"].values.mean(),
               both[both["Mjob"]=="teacher"]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì–´ë¨¸ë‹ˆì˜ ì§ì—…")

  plt.subplot(2,2,2)
  sns.boxenplot(data=both, x="Fjob", y="GT_scale")
  sns.swarmplot(data=both, x="Fjob", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               both[both["Fjob"]=="teacher"]["GT_scale"].values.mean(),
               both[both["Fjob"]=="other"]["GT_scale"].values.mean(),
               both[both["Fjob"]=="services"]["GT_scale"].values.mean(),
               both[both["Fjob"]=="health"]["GT_scale"].values.mean(),
               both[both["Fjob"]=="at_home"]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì•„ë²„ì§€ì˜ ì§ì—…")

  plt.subplot(2,2,3)
  df = both[both["GT_scale_rank_bin"]<=4]
  sns.violinplot(data=df, x="Mjob", y="GT_scale",cut=0)
  sns.swarmplot(data=df, x="Mjob", y="GT_scale", size=2, color="0.1")

  plt.plot([0, 1, 2, 3, 4],[
               df[df["Mjob"]=="at_home"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="other"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="teacher"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="services"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="health"]["GT_scale"].values.mean()],linewidth=3,color="r")

  df = both[both["GT_scale_rank_bin"]>=6]
  sns.violinplot(data=df, x="Mjob", y="GT_scale",cut=0)
  sns.swarmplot(data=df, x="Mjob", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               df[df["Mjob"]=="at_home"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="other"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="teacher"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="services"]["GT_scale"].values.mean(),
               df[df["Mjob"]=="health"]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("[1,2,3,4],[6,7,8,9]ë“±ê¸‰ì˜ ì„±ì ë¶„í¬ by ì–´ë¨¸ë‹ˆì˜ ì§ì—…")

  plt.subplot(2,2,4)

  df = both[both["GT_scale_rank_bin"]<=4]
  sns.violinplot(data=df, x="Fjob", y="GT_scale",cut=0)
  sns.swarmplot(data=df, x="Fjob", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               df[df["Fjob"]=="teacher"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="other"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="health"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="services"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="at_home"]["GT_scale"].values.mean()],linewidth=3,color="r")

  df = both[both["GT_scale_rank_bin"]>=6]
  sns.violinplot(data=df, x="Fjob", y="GT_scale",cut=0)
  sns.swarmplot(data=df, x="Fjob", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               df[df["Fjob"]=="teacher"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="other"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="health"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="services"]["GT_scale"].values.mean(),
               df[df["Fjob"]=="at_home"]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("[1,2,3,4],[6,7,8,9]ë“±ê¸‰ì˜ ì„±ì ë¶„í¬ by ì•„ë²„ì§€ì˜ ì§ì—…")

  plt.tight_layout()
  plt.show()
  ```

![Untitled](images/Untitled%2033.png)

í™•ì‹¤íˆ ë¶€ëª¨ë‹˜ì´ ì˜ë£Œê³„, êµìœ¡ê³„ ì¢…ì‚¬ì ì¼ ë•Œ ë†’ì€ í‰ê· ì ìˆ˜ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

íŠ¹íˆ ì•„ë²„ì§€ê°€ êµìœ¡ê³„ ì¢…ì‚¬ì ì¼ ë•Œ ë†’ì€ ìˆ˜ì¤€ìœ¼ë¡œ ì°¨ì´ê°€ ë‚˜ëŠ”êµ°ìš”..

ê±°ê¸°ë‹¤ ì˜ë£Œê³„ ì¢…ì‚¬ìì¼ ê²½ìš° ì ìˆ˜ê°€ ì™„ì „íˆ ë°•ì‚´ë‚˜ëŠ” ê²½ìš°ê°€ ì—†ëŠ”ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

í•˜ì§€ë§Œ êµìœ¡ê³„ ì¢…ì‚¬ìì˜ ì•„ë²„ì§€ì¼ ê²½ìš° ì™„ì „íˆ ì—­íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ë„ ìˆê² ìŠµë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ìš°ë¦¬ ë„ë¹„ì—ê²Œ **ì˜ë£Œê³„ ì¢…ì‚¬ì ì–´ë¨¸ë‹ˆ**ì™€ **êµìœ¡ê³„ ì¢…ì‚¬ì ì•„ë²„ì§€**ë¥¼ ì„ ë¬¼í•´ì•¼ê² êµ°ìš”

**4. ë¶€ëª¨ë‹˜**ğŸ‘«**ì˜ ìµœì¢…í•™ë ¥**

ì´ê²ƒë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•©ë‹ˆë‹¤. ë¶€ëª¨ë‹˜ì˜ ìµœì¢…í•™ë ¥ì— ë”°ë¥¸ ë¶„í¬ë„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.

- **Code**
  ```python
  plt.figure(figsize=(10,10))
  plt.subplot(2,2,1)
  sns.boxenplot(data=both_ord, x="Medu", y="GT_scale")
  sns.swarmplot(data=both_ord, x="Medu", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               both_ord[both["Medu"]==0]["GT_scale"].values.mean(),
               both_ord[both["Medu"]==1]["GT_scale"].values.mean(),
               both_ord[both["Medu"]==2]["GT_scale"].values.mean(),
               both_ord[both["Medu"]==3]["GT_scale"].values.mean(),
               both_ord[both["Medu"]==4]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì–´ë¨¸ë‹ˆì˜ ìµœì¢…í•™ë ¥")

  plt.subplot(2,2,2)
  sns.boxenplot(data=both_ord, x="Fedu", y="GT_scale")
  sns.swarmplot(data=both_ord, x="Fedu", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               both_ord[both["Fedu"]==0]["GT_scale"].values.mean(),
               both_ord[both["Fedu"]==1]["GT_scale"].values.mean(),
               both_ord[both["Fedu"]==2]["GT_scale"].values.mean(),
               both_ord[both["Fedu"]==3]["GT_scale"].values.mean(),
               both_ord[both["Fedu"]==4]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì•„ë²„ì§€ì˜ ìµœì¢…í•™ë ¥")

  plt.subplot(2,2,3)

  df_t = both[both["GT_scale_rank_bin"]<=4]
  df_t_ord = both_ord[both["GT_scale_rank_bin"]<=4]
  sns.violinplot(data=df_t_ord, x="Medu", y="GT_scale",cut=0)
  sns.swarmplot(data=df_t_ord, x="Medu", y="GT_scale", size=2, color="0.1")

  plt.plot([0, 1, 2, 3, 4],[
               df_t[df_t["Medu"]==0]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==1]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==2]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==3]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==4]["GT_scale"].values.mean()],linewidth=3,color="r")

  df_t = both[both["GT_scale_rank_bin"]>=6]
  df_t_ord = both_ord[both["GT_scale_rank_bin"]>=6]
  sns.violinplot(data=df_t_ord, x="Medu", y="GT_scale",cut=0)
  sns.swarmplot(data=df_t_ord, x="Medu", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               df_t[df_t["Medu"]==0]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==1]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==2]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==3]["GT_scale"].values.mean(),
               df_t[df_t["Medu"]==4]["GT_scale"].values.mean(),],linewidth=3,color="r")

  plt.title("ì„±ì [1,2,3,4,],[6,7,8,9]ë“±ê¸‰ ë¶„í¬ by ì–´ë¨¸ë‹ˆì˜ ìµœì¢…í•™ë ¥")

  plt.subplot(2,2,4)

  df_t = both[both["GT_scale_rank_bin"]<=4]
  df_t_ord = both_ord[both["GT_scale_rank_bin"]<=4]

  sns.violinplot(data=df_t_ord, x="Fedu", y="GT_scale",cut=0)
  sns.swarmplot(data=df_t_ord, x="Fedu", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               df_t[df_t["Fedu"]==0]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==1]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==2]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==3]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==4]["GT_scale"].values.mean()],linewidth=3,color="r")

  df_t = both[both["GT_scale_rank_bin"]>=6]
  df_t_ord = both_ord[both["GT_scale_rank_bin"]>=6]

  sns.violinplot(data=df_t_ord, x="Fedu", y="GT_scale",cut=0)
  sns.swarmplot(data=df_t_ord, x="Fedu", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               df_t[df_t["Fedu"]==0]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==1]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==2]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==3]["GT_scale"].values.mean(),
               df_t[df_t["Fedu"]==4]["GT_scale"].values.mean(),],linewidth=3,color="r")

  plt.title("ì„±ì [1,2,3,4,],[6,7,8,9]ë“±ê¸‰ ë¶„í¬ by ì•„ë²„ì§€ì˜ ìµœì¢…í•™ë ¥")

  plt.tight_layout()
  plt.show()
  ```

![Untitled](images/Untitled%2034.png)

ì—­ì‹œ ìµœì¢…í•™ë ¥ì´ ëŒ€í•™ì´ìƒì´ë©´ ì„±ì ë¶„í¬ê°€ ë” ë†’ì€ê³³ì—ì„œ í˜•ì„±ë˜ëŠ”êµ°ìš”.

í•˜ì§€ë§Œ í•™êµë¥¼ ë‚˜ì˜¤ì§€ ì•Šì€ ë¶€ëª¨ë‹˜ì—ê²Œì„œ ì•„ì£¼ ë†’ì€ í‰ê· , ì¤‘ê°„ê°’ì„ ë³´ì…ë‹ˆë‹¤.

í‘œë³¸ì˜ ìˆ˜ê°€ ë„ˆë¬´ ì ì–´ì„œ ì¼ ìˆ˜ë„ ìˆì§€ë§Œ ì–¸ë”ë…ì˜ ë°˜ë€ ì¼ìˆ˜ë„ ìˆê² êµ°ìš”..

ë˜í•œ ì„±ì ì´ ë‚®ì€ í•™ìƒêµ°ì—ì„œëŠ” ë¶€ëª¨ì˜ ìµœì¢…í•™ë ¥ì´ í° ì°¨ì´ê°€ ì—†ëŠ”ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

**5. ê³µë¶€ì‹œê°„**âœï¸**ê³¼ ì‰¬ëŠ”ì‹œê°„** ğŸ›Œ

ê·¸ë ‡ë‹¤ë©´ ìš°ë¦¬ ë„ë¹„ë¥¼ ì–´ë–»ê²Œ ì¥ì–´ì§œì•¼ í• ê¹Œìš”? 16ì‹œê°„ ê³µë¶€ë²•ìœ¼ë¡œ ì •ì‹ ì„ ì°¨ë ¤ì¤„ê¹Œìš”?

ê³µë¶€ì‹œê°„ê³¼ ì‰¬ëŠ”ì‹œê°„ì´ ì„±ì ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ í•œë²ˆ ë´ë³´ì£ .

- **Code**
  ```python
  plt.figure(figsize=(10,10))
  plt.subplot(2,2,1)
  sns.boxenplot(data=both_ord, x="studytime", y="GT_scale")
  sns.swarmplot(data=both_ord, x="studytime", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3],[
               both[both["studytime"]==1]["GT_scale"].values.mean(),
               both[both["studytime"]==2]["GT_scale"].values.mean(),
               both[both["studytime"]==3]["GT_scale"].values.mean(),
               both[both["studytime"]==4]["GT_scale"].values.mean()],linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ê³µë¶€ì‹œê°„")

  plt.subplot(2,2,2)
  sns.boxenplot(data=both_ord, x="freetime", y="GT_scale")
  sns.swarmplot(data=both_ord, x="freetime", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               both[both["freetime"]==1]["GT_scale"].values.mean(),
               both[both["freetime"]==2]["GT_scale"].values.mean(),
               both[both["freetime"]==3]["GT_scale"].values.mean(),
               both[both["freetime"]==4]["GT_scale"].values.mean(),
               both[both["freetime"]==5]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì‰¬ëŠ”ì‹œê°„")

  plt.subplot(2,2,3)
  df = both[both["GT_scale_rank_bin"]<=4]
  df_ord = both_ord[both["GT_scale_rank_bin"]<=4]

  sns.violinplot(data=df_ord, x="studytime", y="GT_scale",cut=0)
  sns.swarmplot(data=df_ord, x="studytime", y="GT_scale", size=2, color="0.1")

  plt.plot([0, 1, 2, 3],[
               df[df["studytime"]==1]["GT_scale"].values.mean(),
               df[df["studytime"]==2]["GT_scale"].values.mean(),
               df[df["studytime"]==3]["GT_scale"].values.mean(),
               df[df["studytime"]==4]["GT_scale"].values.mean(),],linewidth=3,color="r")

  df = both[both["GT_scale_rank_bin"]>=6]
  df_ord = both_ord[both["GT_scale_rank_bin"]>=6]

  sns.violinplot(data=df_ord, x="studytime", y="GT_scale",cut=0)
  sns.swarmplot(data=df_ord, x="studytime", y="GT_scale", size=2, color="0.1")

  plt.plot([0, 1, 2, 3],[
               df[df["studytime"]==1]["GT_scale"].values.mean(),
               df[df["studytime"]==2]["GT_scale"].values.mean(),
               df[df["studytime"]==3]["GT_scale"].values.mean(),
               df[df["studytime"]==4]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("[1,2,3,4], [6,7,8,9] ì„±ì  ë¶„í¬ by ê³µë¶€ì‹œê°„")

  plt.subplot(2,2,4)
  df = both[both["GT_scale_rank_bin"]<=4]
  df_ord = both_ord[both["GT_scale_rank_bin"]<=4]

  sns.violinplot(data=df_ord, x="freetime", y="GT_scale",cut=0)
  sns.swarmplot(data=df_ord, x="freetime", y="GT_scale", size=2, color="0.1")

  plt.plot([0, 1, 2, 3, 4],[
               df[df["freetime"]==1]["GT_scale"].values.mean(),
               df[df["freetime"]==2]["GT_scale"].values.mean(),
               df[df["freetime"]==3]["GT_scale"].values.mean(),
               df[df["freetime"]==4]["GT_scale"].values.mean(),
               df[df["freetime"]==5]["GT_scale"].values.mean(),],linewidth=3,color="r")

  df = both[both["GT_scale_rank_bin"]>=6]
  df_ord = both_ord[both["GT_scale_rank_bin"]>=6]

  sns.violinplot(data=df_ord, x="freetime", y="GT_scale",cut=0)
  sns.swarmplot(data=df_ord, x="freetime", y="GT_scale", size=2, color="0.1")

  plt.plot([0, 1, 2, 3, 4],[
               df[df["freetime"]==1]["GT_scale"].values.mean(),
               df[df["freetime"]==2]["GT_scale"].values.mean(),
               df[df["freetime"]==3]["GT_scale"].values.mean(),
               df[df["freetime"]==4]["GT_scale"].values.mean(),
               df[df["freetime"]==5]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("[1,2,3,4], [6,7,8,9] ì„±ì  ë¶„í¬ by ì‰¬ëŠ”ì‹œê°„")

  plt.tight_layout()
  plt.show()
  ```

![Untitled](images/Untitled%2035.png)

ì´ì œ ë„ë¹„ëŠ” ì£½ì—ˆìŠµë‹ˆë‹¤. **ê°€ëŠ¥í•œ ë§ì€ ì‹œê°„ì„ ê³µë¶€í• ìˆ˜ë¡ ì„±ì ì´ ëŠ˜ì–´ë‚˜ëŠ” ê²ƒ**ì„ í™•ì¸í–ˆìœ¼ë‹ˆê¹Œìš”.

ì ìˆ˜ëŒ€ê°€ ë‚®ì€ í•™ìƒë“¤ì¡°ì°¨ ì ˆëŒ€ì ì¸ ê³µë¶€ì‹œê°„ì´ ë§ìœ¼ë©´ ì ìˆ˜ê°€ ìƒìŠ¹í•˜ëŠ” ê²½í–¥ì´ ìˆêµ°ìš”.

íŠ¹íˆë‚˜ ìµœê³ ì ì„ ê°€ì§€ëŠ” í•™ìƒì€ ë°˜ë“œì‹œ ì£¼ë‹¹ 10ì‹œê°„ ì´ìƒì€ í•´ì•¼ í•©ë‹ˆë‹¤..?

ì£¼ë‹¹ 10ì‹œê°„ì´ë¼ë‹ˆ ì •ë§ ì†ìƒí•œ ì§€í‘œêµ°ìš”.. ì €í¬ ë„ë¹„ëŠ” í•˜ë£¨ 10ì‹œê°„ìœ¼ë¡œ ì¡ì•„ì¤ì‹œë‹¤.

**ì‰¬ëŠ”ê±´ ì–¼ë§ˆë‚˜ ì‰¬ì–´ì•¼í• ê¹Œìš”?**

ë„ë¹„ì—ê²Œ ì‰¬ëŠ” ì‹œê°„ì„ ì£¼ì§€ ì•Šìœ¼ë ¤ê³  í–ˆì§€ë§Œ, **ì¡°ê¸ˆì€ ì‰¬ê²Œ í•´ì£¼ëŠ” ê²Œ ì¢‹ì€ ê²ƒ**ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

í•˜ì§€ë§Œ ìµœê³ ì ì„ ë‹¬ì„±í•˜ë ¤ë©´ ì‰¬ëŠ”ì‹œê°„ì´ ì—†ì–´ì•¼í•˜ëŠ”ë° ê³ ë¯¼ì´ ë©ë‹ˆë‹¤.

ì €í¬ëŠ” ê·¸ëƒ¥ ë„ë¹„ê°€ ì•„ë‹Œ SKYë„ë¹„ë¥¼ ì›í•˜ë‹ˆê¹Œìš”.

**6. ê°€ì •í™˜ê²½**

ì¢‹ìŠµë‹ˆë‹¤. ì§€ê¸ˆê¹Œì§€ ë»”í•´ ë³´ì´ëŠ” ë¶€ëª¨ë‹˜ê³¼ ê³µë¶€ì‹œê°„ì„ ë´¤ëŠ”ë°ìš”..

ì´ë²ˆì—ëŠ” ì „ì²´ì ì¸ **ê°€ì •í™˜ê²½[ìœ ì¹˜ì› / ê°€ì¡±í¬ê¸° / ë¶€ëª¨ë‹˜ê³¼ì˜ ë™ê±° / ë³´í˜¸ì]**ì„ í•œ ë²ˆ ë³´ê² ìŠµë‹ˆë‹¤.

- **Code**
  ```python
  plt.figure(figsize=(15,15))
  plt.subplot(2,2,1)
  sns.boxenplot(data=both, x="nursery", y="GT_scale")
  sns.swarmplot(data=both, x="nursery", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1], [both[both["nursery"]=="yes"]["GT_scale"].values.mean(), both[both["nursery"]=="no"]["GT_scale"].values.mean()], linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ë³´ìœ¡ì› ì¶œì‹ ")

  plt.subplot(2,2,2)
  sns.boxenplot(data=both, x="famsize", y="GT_scale")
  sns.swarmplot(data=both, x="famsize", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1], [both[both["famsize"]=="GT3"]["GT_scale"].values.mean(), both[both["famsize"]=="LE3"]["GT_scale"].values.mean()], linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ê°€ì¡±í¬ê¸°")

  plt.subplot(2,2,3)
  sns.boxenplot(data=both, x="Pstatus", y="GT_scale")
  sns.swarmplot(data=both, x="Pstatus", y="GT_scale", size=2, color="0.1")
  plt.plot(
      [0, 1], [both[both["Pstatus"]=="A"]["GT_scale"].values.mean(), both[both["Pstatus"]=="T"]["GT_scale"].values.mean()],
      linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ë¶€ëª¨ë‹˜ê³¼ì˜ ë™ê±°")

  plt.subplot(2,2,4)
  sns.boxenplot(data=both, x="guardian", y="GT_scale")
  sns.swarmplot(data=both, x="guardian", y="GT_scale", size=2, color="0.1")
  plt.plot(
      [0, 1, 2],
      [both[both["guardian"]=="mother"]["GT_scale"].values.mean(), both[both["guardian"]=="father"]["GT_scale"].values.mean(),both[both["guardian"]=="other"]["GT_scale"].values.mean()],
      linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ë³´í˜¸ì")

  plt.tight_layout()
  plt.show()
  ```

![Untitled](images/Untitled%2036.png)

ì‹ ê¸°í•˜êµ°ìš”. ìœ ì¹˜ì›ì„ ë‚˜ì˜¨ ì¹œêµ¬ë“¤ì´ ê·¸ë ‡ì§€ ì•Šì€ ì¹œêµ¬ë³´ë‹¤ ì ìˆ˜ëŠ” ë†’ì§€ë§Œ êµ‰ì¥íˆ ê³µë¶€ì— ê´€ì‹¬ì´ ì—†ì–´ì§€ëŠ” ê²½ìš°ê°€ ë§ì•„ ë³´ì…ë‹ˆë‹¤.

ë˜í•œ ê°€ì •ì˜ ê·œëª¨ê°€ ì‘ì•„ì„œ 3ëª… ì´í•˜ì¸ ê²½ìš°ê°€ ë” ìœ ë¦¬í•˜êµ°ìš”. ë¹„ìš©ì„ í•œ ëª…ì—ê²Œ íˆ¬ìí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì¼ê¹Œìš”?

ë¶€ëª¨ë‹˜ê³¼ì˜ ë™ê±° ìœ /ë¬´ëŠ” í°ì°¨ì´ê°€ ì—†ì–´ ë³´ì…ë‹ˆë‹¤ë§Œ ë³´í˜¸ìê°€ ë¶€ëª¨ê°€ ì•„ë‹ê²½ìš°ì—ëŠ” ì ìˆ˜ê°€ êµ‰ì¥íˆ ë–¨ì–´ì§€ëŠ”êµ°ìš”â€¦

**7. ê³µë¶€í™˜ê²½**

ì—­ì‹œ ì„±ì í•˜ë©´ ì‚¬êµìœ¡ğŸ«ì„ ë¹¼ë¨¹ì„ìˆ˜ê°€ ì—†ì£ !

ìš°ë¦¬ ë„ë¹„ì—ê²ŒëŠ” ì•„ë‚Œì—†ì´ ëª¨ë“ ê²ƒğŸŒ²ì„ ì¤„ê²ë‹ˆë‹¤! ê³¼ì—° **ê³µë¶€í™˜ê²½[í•™êµì˜ ì§€ì›, ë¶€ëª¨ì˜ì§€ì› ,ì‚¬êµìœ¡, ë°©ê³¼ í›„ í™œë™]**ì€ ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹ ê¹Œìš”?

- **Code**
  ```python
  plt.figure(figsize=(15,15))
  plt.subplot(2,2,1)
  sns.violinplot(data=both, x="schoolsup", y="GT_scale",scale="count")
  sns.swarmplot(data=both, x="schoolsup", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1], [both[both["schoolsup"]=="yes"]["GT_scale"].values.mean(), both[both["schoolsup"]=="no"]["GT_scale"].values.mean()], linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by í•™êµì˜ ì§€ì›")

  plt.subplot(2,2,2)
  sns.violinplot(data=both, x="famsup", y="GT_scale",scale="count")
  sns.swarmplot(data=both, x="famsup", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1], [both[both["famsup"]=="no"]["GT_scale"].values.mean(), both[both["famsup"]=="yes"]["GT_scale"].values.mean()], linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ë¶€ëª¨ì˜ ì§€ì›")

  plt.subplot(2,2,3)
  sns.violinplot(data=both, x="paid", y="GT_scale",scale="count")
  sns.swarmplot(data=both, x="paid", y="GT_scale", size=2, color="0.1")
  plt.plot(
      [0, 1], [both[both["paid"]=="no"]["GT_scale"].values.mean(), both[both["paid"]=="yes"]["GT_scale"].values.mean()],
      linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì‚¬êµìœ¡")

  plt.subplot(2,2,4)
  sns.violinplot(data=both, x="activities", y="GT_scale",scale="count")
  sns.swarmplot(data=both, x="activities", y="GT_scale", size=2, color="0.1")
  plt.plot(
      [0, 1],
      [both[both["activities"]=="no"]["GT_scale"].values.mean(), both[both["activities"]=="yes"]["GT_scale"].values.mean()],
      linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ë°©í™” í›„ í™œë™")

  plt.tight_layout()
  plt.show()
  ```

![Untitled](images/Untitled%2037.png)

ë†€ëìŠµë‹ˆë‹¤.. êµìœ¡ì˜ ì§€ì›ë“¤ ê°™ì€ ê²½ìš°ëŠ” ê±°ì˜ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ëª»í•˜ëŠ”êµ°ìš”.

ë§ìŠµë‹ˆë‹¤. ìƒê°í•´ ë³´ë‹ˆ ì €ë„ ì‚¬êµìœ¡ì„ ë°›ì•˜ìœ¼ë‹ˆ.. ì‚¬ì‹¤ ì•Œê³ ìˆëŠ” ê²°ê³¼ì˜€êµ°ìš”.

í•™êµì˜ ì§€ì›ì„ ë°›ì€ í•™ìƒì´ ì˜¤íˆë ¤ í‰ê·  ì ìˆ˜ê°€ ë‚®ì€ ê±¸ ë³´ë©´,

ê³µë¶€í•  í™˜ê²½ì´ ì¢‹ì§€ ì•Šì€ í•™ìƒë“¤ì´ í•™êµì˜ ì§€ì›ì„ ë°›ì•˜ê³ ,

ê·¸ë˜ì„œ ì§€ì›ì„ ë°›ì§€ ì•Šì€ ì¹œêµ¬ë“¤ ë³´ë‹¤ ë‚®ì€ í‰ê·  ì ìˆ˜ë¥¼ ê°€ì§ˆ ìˆ˜ë„ ìˆê² ìŠµë‹ˆë‹¤.

- **Code**
  ```python
  plt.figure(figsize=(8,8))
  plt.subplot(2,1,1)
  sns.swarmplot(data=both, x="schoolsup",y="Mjob",palette="husl")
  plt.subplot(2,1,2)
  sns.swarmplot(data=both, x="schoolsup",y="Fjob",palette="husl")
  ```

![Untitled](images/Untitled%2038.png)

í™•ì‹¤íˆ ë¶€ëª¨ê°€ ì˜ë£Œê³„ë‚˜ êµìœ¡ê³„ì´ë©´ í•™êµì˜ ì§€ì›ì„ ë°›ì§€ ì•ŠëŠ”êµ°ìš”. ì§€ì› ë”°ìœˆ ë„˜ê²¨ë²„ë¦¬ê² ìŠµë‹ˆë‹¤.

ê³µë¶€í™˜ê²½ì˜ ì§€ì›ì€ í¬ê²Œ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²ƒ ê°™ì•„ë³´ì´ì§€ë§Œ

![Untitled](images/Untitled%2039.png)

ì‚¬êµìœ¡ì„ ë°›ì€ í•™ìƒë“¤ì€ ì•„ì£¼ ë‚®ì€ ë“±ê¸‰ì˜ ì ìˆ˜ëŠ” ëŒ€ë¶€ë¶„ í”¼í•œ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? ìš°ë¦¬ ë„ë¹„ì—ê²Œ í•™ì› ì§€ì˜¥ğŸ’ì„ ë³´ì—¬ì¤˜ì•¼ í•˜ë‚˜ìš”?

ê·¸ë˜ë„ ì•½ê°„ì˜ í‰ê·  ì ìˆ˜ê°€ ì˜¬ëìœ¼ë‹ˆ ì „ë¶€ ì‹œì¼œì¤ì‹œë‹¤.

**8. ë©˜íƒˆê´€ë¦¬**

ê³µë¶€ë€ ê²°êµ­ ìê¸° ìì‹ ê³¼ì˜ ì‹¸ì›€ì¼ ê²ë‹ˆë‹¤. ìš°ë¦¬ ë„ë¹„ ë©˜íƒˆì— ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ê²ƒë“¤ì€ ì‹¹ğŸŒ±ì„ ì˜ë¼ë†” ë²„ë¦½ì‹œë‹¤.

1. ê°€ì¥ ê°€ê¹Œìš´ ê°€ì¡±ê³¼ì˜ ê´€ê³„,
2. ëª©í‘œì˜ì‹ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€
3. ì¸í„°ë„·ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€
4. ì—°ì• ğŸ’ë¥¼ í•˜ëŠ”ì§€ ì•ˆí•˜ëŠ”ì§€

ì´ 4ê°œë¥¼ ë´ë³´ì£ !

- **Code**
  ```python
  plt.figure(figsize=(15,15))
  plt.subplot(2,2,1)
  sns.boxenplot(data=both_ord, x="famrel", y="GT_scale")
  sns.swarmplot(data=both_ord, x="famrel", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1, 2, 3, 4],[
               both[both["famrel"]==1]["GT_scale"].values.mean(),
               both[both["famrel"]==2]["GT_scale"].values.mean(),
               both[both["famrel"]==3]["GT_scale"].values.mean(),
               both[both["famrel"]==4]["GT_scale"].values.mean(),
               both[both["famrel"]==5]["GT_scale"].values.mean(),],linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ê°€ì¡±ê³¼ì˜ ê´€ê³„")

  plt.subplot(2,2,2)
  sns.boxenplot(data=both, x="higher", y="GT_scale")
  sns.swarmplot(data=both, x="higher", y="GT_scale", size=2, color="0.1")
  plt.plot([0, 1], [both[both["higher"]=="yes"]["GT_scale"].values.mean(), both[both["higher"]=="no"]["GT_scale"].values.mean()], linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ëª©í‘œì˜ì‹ ìœ ë¬´")

  plt.subplot(2,2,3)
  sns.boxenplot(data=both, x="internet", y="GT_scale")
  sns.swarmplot(data=both, x="internet", y="GT_scale", size=2, color="0.1")
  plt.plot(
      [0, 1], [both[both["internet"]=="no"]["GT_scale"].values.mean(), both[both["internet"]=="yes"]["GT_scale"].values.mean()],
      linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì¸í„°ë„· ìœ ë¬´")

  plt.subplot(2,2,4)
  sns.boxenplot(data=both, x="romantic", y="GT_scale")
  sns.swarmplot(data=both, x="romantic", y="GT_scale", size=2, color="0.1")
  plt.plot(
      [0, 1],
      [both[both["romantic"]=="no"]["GT_scale"].values.mean(), both[both["romantic"]=="yes"]["GT_scale"].values.mean()],
      linewidth=3,color="r")
  plt.title("ì„±ì  ë¶„í¬ by ì—°ì•  ìœ ë¬´")

  plt.tight_layout()
  plt.show()
  ```

![ë©˜íƒˆ1.png](images/%25EB%25A9%2598%25ED%2583%25881.png)

ì—­ì‹œ ê°€ì¡±ê³¼ì˜ ê´€ê³„ëŠ” ì¢‹ì€ ê²Œ ì¢‹ì€ ê±°êµ°ìš” í•˜ì§€ë§Œ ë„ˆë¬´ ì¢‹ì€ ê²½ìš°ëŠ” ì•ˆ ë˜ë‚˜ ë´…ë‹ˆë‹¤. ì ë‹¹íˆ ì¢‹ìŒìœ¼ë¡œ ê°€ëŠ” ê²Œ ì¢‹ì•„ ë³´ì…ë‹ˆë‹¤.

1ë“±ì€ í‰ê· ì— ìˆìœ¼ë‹ˆ ë„ë¹„ ê°€ì¡±ì„ í‰ê· ì— ë„£ê³  ì‹¶ì§€ë§Œ, 1ë“±ì„ ì œì™¸í•˜ê³  ë¶„í¬ë¥¼ ë³´ë©´ ê·¸ëƒ¥ ì¢‹ìŒì´ ë” ì¢‹ì•„ ë³´ì…ë‹ˆë‹¤.

ê·¸ë³´ë‹¤ **ëª©í‘œì˜ì‹ì€ ë°›ìœ¼ì‹œ ìˆì–´ì•¼**ê² êµ°ìš”!, í•˜ì§€ë§Œ ìš°ë¦¬ ë„ë¹„ëŠ” ììœ ë¥¼ ëˆ„êµ¬ë³´ë‹¤ ì—´ë§í•˜ë‹ˆ ëª©í‘œì˜ì‹ğŸ”¥ì´ ìˆì„ê²ë‹ˆë‹¤!

![ë©˜íƒˆ2.png](images/%25EB%25A9%2598%25ED%2583%25882.png)

ì˜ì™¸ë¡œ ì¸í„°ë„·ì´ ìˆëŠ” ê²½ìš°ê°€ ë” ì¢‹êµ°ìš”. ì €ëŠ” ì¸í„°ë„·ì´ ê³µë¶€ì— ë°©í•´ë§Œ ë  ì¤„ ì•Œì•˜ëŠ”ë°. ì¸í„°ë„· ì •ë„ëŠ” ì„¤ì¹˜ë¥¼ í•´ì¤˜ì•¼ê² ìŠµë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ì—°ì• ë¥¼ í•˜ë©´ ì ìˆ˜ê°€ ë” ë–¨ì–´ì§€ëŠ” ê²°ê³¼ê°€ ìˆêµ°ìš”! ê³µë¶€ë¥¼ í•˜ë©´ì„œ ë°©í•´ê°€ ëœë‹¤ëŠ” ëœ»ì¼ê¹Œìš”?

- **Code**
  ```python
  df = both[["G1_scale_rank","G2_scale_rank","G3_scale_rank","romantic"]].groupby(by=["romantic"]).mean()
  plt.plot(df.T)
  plt.title("ì—°ì•  - 3ë…„ ì„±ì  ì¶”ì„¸ ")
  plt.legend(df.index)
  ```

![Untitled](images/Untitled%2040.png)

ìš°ë¦¬ ì—°ì• ëŠ” ê³¼ì—° ì•…ğŸ˜ˆê³¼ ê°™êµ°ìš”â€¦ ì ˆëŒ€ë¡œ í—ˆìš©í•´ì„œëŠ” ì•ˆë˜ê² ìŠµë‹ˆë‹¤.

**9. ê²°ë¡ **

**ì´ê±¸ë¡œ ì„±ì ì— ê´€ë ¨í•œ í™˜ê²½ì„ í•œ ë²ˆ ë´¤ìŠµë‹ˆë‹¤.**

**ìœ„ì˜ ë¶„ì„ì„ í† ëŒ€ë¡œí•˜ë©´ ìš°ë¦¬ ë„ë¹„ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í™˜ê²½ì„ ì¡°ì„±í•´ì•¼ê² ì£ .**

1. **ì˜ë£Œê³„ ì¢…ì‚¬ìë¡œì„œ ëŒ€í•™ì¡¸ì—… ì´ìƒì˜ ì–´ë¨¸ë‹ˆ, êµìœ¡ê³„ ì¢…ì‚¬ìë¡œì„œ ëŒ€í•™ì¡¸ì—… ì´ìƒì˜ ì•„ë²„ì§€ë¥¼ ë‘ **
2. **10ì‹œê°„ ì´ìƒì˜ ê³µë¶€ì‹œê°„ê³¼ ì¡°ê¸ˆ ë¶€ì¡±í•œ ì‰¬ëŠ”ì‹œê°„ì„ ê°€ì§**
3. **3ëª… ì´í•˜ì˜ ê°€ì¡±ì—ì„œ ë¶€ëª¨ë‹˜ë“¤ê³¼ ë™ê±°í•˜ë©°, ì–´ë¨¸ë‹ˆê°€ ë³´í˜¸ìë¡œì„œ ìœ ì¹˜ì›ì„ ë‹¤ë‹˜**
4. **í•™êµì˜ ì§€ì›ë”°ìœˆ í•„ìš”ì—†ê³ , ë¶€ëª¨ì˜ ì§€ì›ì„ ë°›ì•„ ì‚¬êµìœ¡ì„ ì–‘ê» ë°›ì•˜ìœ¼ë©° ë°©ê³¼ í›„ í™œë™ê¹Œì§€ ì•¼ë¬´ì§€ê²Œ í•¨**
5. **ëšœë ·í•œ ëª©í‘œì˜ì‹ì„ ê°€ì ¸ ì¸í„°ë„·ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë©°, ì—°ì• ë”°ìœ„ëŠ” ê¿ˆë„ ê¾¸ì§€ì•Šê³ , ì ë‹¹íˆ í™”ëª©í•œ ê°€ì •ì—ì„œ ìëŒ**

**ì´ ì´ì™¸ì˜ ì¡°ê±´ì€ ëª¨ë‘ medianë˜ëŠ” modeë¡œ ë‘ê³  ì¢€ì „ì— ì‚¬ìš©í–ˆë˜ LGBMìœ¼ë¡œ ì ìˆ˜ë¥¼ ì˜ˆì¸¡í•´ë³¼ê¹Œìš”!**

- **Code**
  ```python
  dobby_data = pd.DataFrame([])

  col = ['school', 'sex', 'age', 'address', 'famsize', 'Pstatus', 'Medu', 'Fedu',
         'Mjob', 'Fjob', 'reason', 'guardian', 'traveltime', 'studytime', 'schoolsup', 'famsup', 'paid', 'activities', 'nursery',
         'higher', 'internet', 'romantic', 'famrel', 'freetime', 'goout', 'Dalc',"failures",
         'Walc',"absences"]

  for i in col:
      try:
          dobby_data[i] = both[i].median()
      except:
          dobby_data[i] = both[i].mode()

  dobby_data["Mjob"]="health"
  dobby_data["Fjob"]="teacher"
  dobby_data["Medu"]=4
  dobby_data["Fedu"]=4
  dobby_data["studytime"]=4
  dobby_data["freetime"]=2
  dobby_data["famsize"]="LE3"
  dobby_data["Pstatus"]="T"
  dobby_data["guardian"]="mother"
  dobby_data["nursery"]="yes"
  dobby_data["schoolsup"]="no"
  dobby_data["famsup"]="yes"
  dobby_data["paid"]="yes"
  dobby_data["activities"]="yes"
  dobby_data["higher"]="yes"
  dobby_data["internet"]="yes"
  dobby_data["romantic"]="no"
  dobby_data["famrel"]=4

  # dobby spec
  print(dobby_data.iloc[0])

  # encoding
  cat_cols = dobby_data.select_dtypes('object').columns
  for col in cat_cols:
      le = LabelEncoder()
      dobby_data[col] = le.fit_transform(dobby_data[col])

  # predict dobby GT
  clf.predict(dobby_data, num_iteration=clf.best_iteration)
  ```
  ```
  school             GP
  sex                 F
  age              17.0
  address             U
  famsize           LE3
  Pstatus             T
  Medu                4
  Fedu                4
  Mjob           health
  Fjob          teacher
  reason         course
  guardian       mother
  traveltime        1.0
  studytime           4
  schoolsup          no
  famsup            yes
  paid              yes
  activities        yes
  nursery           yes
  higher            yes
  internet          yes
  romantic           no
  famrel              4
  freetime            2
  goout             3.0
  Dalc              1.0
  failures          0.0
  Walc              2.0
  absences          2.0
  Name: 0, dtype: object

  array([0.21519928])
  ```

`[0.21519928]` ì ì´ ë‚˜ì™”êµ°ìš”.. ì ì–´ë„ 1ì€ ë‚˜ì˜¬ ì¤„ ì•Œì•˜ëŠ”ë°.. ì²˜ì°¸í•©ë‹ˆë‹¤.

ì´ê±´ LGBMì´ ì“°ë ˆê¸°ì¸ íƒ“ì…ë‹ˆë‹¤, ìš°ë¦¬ ë„ë¹„ëŠ” ì˜ëª»ì´ì—†ì–´ìš”. ë˜ë¥µ..ğŸ˜¢

## ë•ğŸ«‚

<aside>
ğŸ’¡ ë¶„ì„ ëª©ì : í•™ìƒë“¤ì˜ ì•Œì½œì†Œë¹„(Dalc+Walc)í–‰íƒœì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ìš”ì¸ê³¼, ì•Œì½œì†Œë¹„ê°€ ì„±ì ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì•Œì•„ë³´ì!

</aside>

**Dalc** : í‰ì¼ì— ìˆ ë§ˆì‹œëŠ” íšŸìˆ˜ [1(ì—†ìŒ) / 2 / 3/ 4/ 5(ì•„ì£¼ë§ìŒ) ]

**Walc :** ì£¼ë§ì— ìˆ ë§ˆì‹œëŠ” íšŸìˆ˜ [1(ì—†ìŒ) / 2 / 3/ 4/ 5(ì•„ì£¼ë§ìŒ) ]

### Student_math

ì£¼ì¤‘(Dalc)ê³¼ ì£¼ë§(Walc)ì— ì•Œì½œì„ ì†Œë¹„í•˜ëŠ” í•™ìƒì˜ ë¹„ìœ¨ì„ ì‚´í´ë´…ì‹œë‹¤.

- Histplot ê°€ì‹œí™” ì½”ë“œ
  ```python
  # í‰ì¼(Dalc) ì•Œì½œ ì†Œë¹„ ê°•ë„
  sns.set_theme(style='whitegrid')
  ax = sns.histplot(data=math, x='Dalc', binwidth=0.9)
  total = float(len(math['Dalc']))
  for p in ax.patches:
      percentage = '{:.1f}%'.format(100 * p.get_height()/total)
      x = p.get_x() + p.get_width() / 2 - 0.05
      y = p.get_y() + p.get_height()
      ax.annotate(percentage, (x, y),ha='center', size = 13)
  plt.show()

  # ì£¼ë§(Walc) ì•Œì½œ ì†Œë¹„ ê°•ë„
  ax = sns.histplot(data=math, x='Walc', binwidth=0.9)
  total = float(len(math['Walc']))
  for p in ax.patches:
      percentage = '{:.1f}%'.format(100 * p.get_height()/total)
      x = p.get_x() + p.get_width() / 2 - 0.05
      y = p.get_y() + p.get_height()
      ax.annotate(percentage, (x, y),ha='center', size = 13)
  plt.show()

  # ì „ì²´(Talc) ì•Œì½œ ì†Œë¹„ ê°•ë„
  	# Talc = Dalc + Walc ì»¬ëŸ¼ ì¶”ê°€
  math['Talc'] = math['Dalc'] + math['Walc']
  math['Talc'].value_counts().sort_index()
  	# ê°€ì‹œí™”
  ax = sns.histplot(data=math, x='Talc', binwidth=0.9)
  total = float(len(math['Talc']))
  for p in ax.patches:
      percentage = '{:.1f}%'.format(100 * p.get_height()/total)
      x = p.get_x() + p.get_width() / 2 - 0.05
      y = p.get_y() + p.get_height()
      ax.annotate(percentage, (x, y),ha='center', size = 13)
  plt.show()
  ```

![Untitled](images/Untitled%2041.png)

![Untitled](images/Untitled%2042.png)

ë‘ ì»¬ëŸ¼(Dalc, Walc)ì„ í•©ì³ì„œ ë¶„ì„ì— í™œìš©í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤ (Talc).

![Untitled](images/Untitled%2043.png)

**ê³¼ìŒí•˜ëŠ” í•™ìƒ(Talc 7~9) (39/395 = 9.9%)**

**ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ(Talc 2~6) (356/395=90.1 %)**

â‡’ ì£¼ì¤‘ê³¼ ì£¼ë§ ëª¨ë‘ ê³¼ìŒí•˜ëŠ” í•™ìƒì€ Talc 8~10ì— í•´ë‹¹í•˜ì§€ë§Œ, í‘œë³¸ì´ ë„ˆë¬´ ì‘ìœ¼ë‹ˆ 7ê¹Œì§€ í¬í•¨í•˜ê² ìŠµë‹ˆë‹¤.

â‡’ Talc 7ì¸ í•™ìƒì€ ì£¼ì¤‘ê³¼ ì£¼ë§ì— ê°•ë„ 3, 4 í˜¹ì€ 2, 5ë¡œ ë§ˆì‹œëŠ” í•™ìƒì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì£¼ì¤‘ì—ëŠ” ê°•ë„ 2ë¡œ, ì£¼ë§ì—ëŠ” ê°•ë„ 5ë¡œ ë§ˆì‹œëŠ” í•™ìƒì´ ì´ 5ëª…ì…ë‹ˆë‹¤.

- ì½”ë“œ
  ![Untitled](images/Untitled%2044.png)

â‡’ Talc 7ì¸ 17ëª… ì¤‘, ì£¼ë§ì—ë§Œ ê°•ë„5ë¡œ ë§ˆì‹œëŠ” í•™ìƒì´ ì•½ 35%ì— í•´ë‹¹ë©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” ê°•ë„ 3, 4 ë¡œ ì£¼ì¤‘ê³¼ ì£¼ë§ì— ëª¨ë‘ ì•Œì½œì„ ì†Œë¹„í•˜ë¯€ë¡œ ê³¼ìŒí•˜ëŠ” í•™ìƒêµ°ìœ¼ë¡œ ì‚¼ê¸°ì— ë¬¸ì œê°€ ì—†ì–´ë³´ì…ë‹ˆë‹¤.

---

**ê³¼ìŒí•˜ëŠ” í•™ìƒ(upper_Talc7)ê³¼ ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ(lower_Talc7)ì˜ ì°¨ì´ë¥¼ ì•Œì•„ë³´ë„ë¡ í•˜ì£ . ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.**

1. **ìˆ  ì†Œë¹„ í–‰íƒœì—** ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ

   â‡’ 'reason', 'school', 'activities', 'higher','internet', 'romantic',
   'goout', 'address','Pstatus', 'Medu', 'Fedu', 'paid', 'nursery',
   'famrel'

2. **ìˆ  ì†Œë¹„ í–‰íƒœê°€** ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ

   â‡’ 'failures', 'studytime', 'health', 'absences','G1_math_rank_bin',
   'G2_math_rank_bin','G3_math_rank_bin', 'GT_math_rank_bin'

3. ë¬´ê´€í•´ë³´ì´ëŠ” ìš”ì†Œ

   â‡’ 'sex', 'age', 'famsizeâ€™

4. **_ìˆ  ì†Œë¹„ í–‰íƒœì— ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ_**

   - ì „ì²´ ê·¸ë˜í”„ ë° ì½”ë“œ
     <ê³¼ìŒí•˜ëŠ” í•™ìƒ **upper_Talc7>**
     ```python
     # ìˆ  ì†Œë¹„ í–‰íƒœì— ì˜í–¥ì„ ë¼ì¹œ ìš”ì†Œ
     plt.figure(figsize=(60,60))

     affected = ['reason', 'school', 'activities', 'higher','internet', 'romantic',
                 'goout', 'address','Pstatus', 'Medu', 'Fedu', 'paid', 'nursery',
                 'famrel']
     n=1
     for i in affected:
         plt.subplot(4,4,n)
         data = upper_talc7[i].value_counts().sort_index()
         labels=data.index
         plt.pie(data, labels=labels, autopct = '%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'],
                 textprops={'size':60})
         plt.title('{} in upper_talc7 cluster'.format(i), fontsize=70, fontweight='bold')
         n += 1
     plt.tight_layout()
     plt.show()
     ```
     ![Untitled](images/Untitled%2045.png)
     <ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ **lower_Talc7**>
     ```python
     # ìˆ  ì†Œë¹„ í–‰íƒœì— ì˜í–¥ì„ ë¼ì¹œ ìš”ì†Œ
     plt.figure(figsize=(60,60))

     affected = ['reason', 'school', 'activities', 'higher','internet', 'romantic',
                 'goout', 'address','Pstatus', 'Medu', 'Fedu', 'paid', 'nursery',
                 'famrel']
     n=1
     for i in affected:
         plt.subplot(4,4,n)
         data = lower_talc7[i].value_counts().sort_index()
         labels=data.index
         plt.pie(data, labels=labels, autopct = '%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'],
                 textprops={'size':60})
         plt.title('{} in lower_talc7 cluster'.format(i), fontsize=70, fontweight='bold')
         n += 1
     plt.tight_layout()
     plt.show()
     ```
     ![Untitled](images/Untitled%2046.png)

   ìŒì£¼ì™€ **ê°•í•œ ìƒê´€ê´€ê³„**ë¥¼ ë³´ì´ëŠ” ìš”ì†ŒëŠ” ë‘ ê°€ì§€ ì…ë‹ˆë‹¤. **goout**ì€ ì¹œêµ¬ì™€ì˜ ì•½ì†ë¹ˆë„ë¥¼, **Pstatus**ëŠ” ë¶€ëª¨ë‹˜ê³¼ í•¨ê»˜ ê±°ì£¼í•˜ëŠ”ì§€ì— ëŒ€í•œ ì—¬ë¶€ë¥¼ ë°˜ì˜í•©ë‹ˆë‹¤.

   ![Untitled](images/Untitled%2047.png)

- ì¹œêµ¬ì™€ ì•½ì† ë¹ˆë„ê°€ ë†’ì€ 4-5 ì¹´í…Œê³ ë¦¬ì˜ ë¹„ìœ¨ì„ ì‚´í´ë³´ë©´, ê³¼ìŒì„ í•˜ëŠ” í•™ìƒë“¤ì¼ìˆ˜ë¡ ì¹œêµ¬ì™€ ì•½ì†ë¹ˆë„ê°€ ë§¤ìš° ë†’ê²Œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
- ê³¼ìŒì„ í•˜ëŠ” í•™ìƒ ì¤‘ 4-5 ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ë¹„ìœ¨ì€ 69.2 %ë¡œ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤. ë°˜ë©´, ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒì€ 31.4 %ë„¤ìš”.
- ì¹œêµ¬ì™€ì˜ ì•½ì†ë¹ˆë„ê°€ í•™ìƒì˜ ê³¼ìŒí–‰íƒœì— ì˜í–¥ì„ ë¼ì³¤ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‘ ë²ˆì§¸ëŠ” ë¶€ëª¨ë‹˜ê³¼ í•¨ê»˜ ê±°ì£¼í•˜ëŠ”ì§€ì— ëŒ€í•œ ì—¬ë¶€ì…ë‹ˆë‹¤.
- ê³¼ìŒì„ í•˜ëŠ” í•™ìƒì¤‘ 20.5 % ë¶€ëª¨ë‹˜ê³¼ ë”°ë¡œ ë–¨ì–´ì ¸ì„œ ì‚´ê³  ìˆë„¤ìš”. ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒë³´ë‹¤ 2ë°° ê°€ëŸ‰ ë†’ìŠµë‹ˆë‹¤.
- ë¶€ëª¨ë‹˜ê³¼ì˜ ê±°ì£¼ì—¬ë¶€ ë˜í•œ ê³¼ìŒí–‰íƒœì— ì˜í–¥ì„ ë¼ì¹œ ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¤ìŒìœ¼ë¡œëŠ” ìŒì£¼í–‰íƒœì™€ **ì•½í•œ ìƒê´€ê´€ê³„**ë¥¼ ë³´ì´ëŠ” ìš”ì†Œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

![Untitled](images/Untitled%2048.png)

- í•™êµ ëª…ì„±ì„ ì´ìœ ë¡œ í•™êµë¥¼ ì„ íƒí•œ í•™ìƒì˜ ë¹„ìœ¨ì´ ë†’ì„ìˆ˜ë¡ ìˆ  ì†Œë¹„ëŸ‰ì´ ì êµ°ìš”. í•™ì—…ì— ëŒ€í•œ ì˜ì§€ê°€ ë°˜ì˜ëê¸° ë•Œë¬¸ì¼ê¹Œìš”?
- ê³¼ìŒê³¼ ê³¼ìŒí•˜ì§€ ì•ŠëŠ” ë‘ ê²½ìš° ëª¨ë‘ GP í•™êµë¥¼ ë‹¤ë‹ˆëŠ” í•™ìƒì˜ ë¹„ìœ¨ì´ ë¹„ìŠ·í•˜ë„¤ìš”.
- ì¦‰, ì§„í•™í•œ í•™êµ ì¢…ë¥˜ì™€ ìˆ  ì†Œë¹„ í–‰íƒœì™€ëŠ” ë¬´ê´€í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. GP í•™êµë¥¼ ë‹¤ë‹ˆëŠ” í•™ìƒìˆ˜ê°€ MS í•™êµë¥¼ ë‹¤ë‹ˆëŠ” í•™ìƒìˆ˜ë³´ë‹¤ ì›”ë“±íˆ ë§ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ê·¸ë˜í”„ê°€ ë‚˜ì˜¨ ê²ƒì´ì£  (GP 349ëª… (88.3 %) MS 46ëª… (11.7 %).

![Untitled](images/Untitled%2049.png)

- ì¸í„°ë„·ì˜ ì˜í–¥ë„ ì¡°ê¸ˆì€ ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì¸í„°ë„· ë…¸ì¶œì´ ì—†ëŠ” í•™ìƒì˜ ë¹„ìœ¨ì´ ê³¼ìŒí•˜ëŠ” í•™ìƒêµ°ë³´ë‹¤ ë†’ìŠµë‹ˆë‹¤.
- ë§ˆìŒê°€ì§ì€ í–‰ë™ì— ë“œëŸ¬ë‚˜ëŠ” ë²•ì´ì£ . í•™ì—…ì— ëŒ€í•œ ëª©í‘œì˜ì‹ì´ ë†’ì€ í•™ìƒêµ°ì˜ ìˆ  ì†Œë¹„ëŸ‰ì´ ì ìŠµë‹ˆë‹¤.

1. **_ìˆ  ì†Œë¹„ í–‰íƒœê°€ ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ_**

   - ì‹œê°í™” ì½”ë“œ
     ```python
     def distribution_by(data,feature, size=(6,5),fig=True, title=None):
         if fig:
             plt.figure(figsize=size)
         ax = sns.countplot(x=feature,
                      data=data,
                      palette="husl")
         if title:
             ax.set_title(title)
         else:
             ax.set_title(f"{feature} Distribution by {target}")
         write_percent(ax, len(data[feature]))

     def write_percent(ax, total_size):
         # total_sizeëŠ” ë°ì´í„°ì˜ ê¸¸ì´ len(df[feature]) ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

         total = float(total_size)
         for p in ax.patches:
             percentage = '{:.1f}%'.format(100 * p.get_height()/total)
             x = p.get_x() + p.get_width() / 2 - 0.05
             y = p.get_y() + p.get_height()
             ax.annotate(percentage, (x, y),ha='center', size = 13)

     plt.rcParams["font.family"] = 'Malgun Gothic'

     plt.figure(figsize=(12,3))
     plt.subplot(1,2,1)
     distribution_by(upper_talc7,'failures', fig=False, title="ê³¼ìŒ í•™ìƒ ë‚™ì œíšŸìˆ˜")
     plt.subplot(1,2,2)
     distribution_by(lower_talc7,'failures', fig=False, title="ì¼ë°˜ í•™ìƒ ë‚™ì œíšŸìˆ˜")
     plt.figure(figsize=(12,3))
     plt.subplot(1,2,1)
     distribution_by(upper_talc7,'studytime', fig=False, title="ê³¼ìŒ í•™ìƒ ê³µë¶€ëŸ‰")
     plt.subplot(1,2,2)
     distribution_by(lower_talc7,'studytime', fig=False, title="ì¼ë°˜ í•™ìƒ ê³µë¶€ëŸ‰")

     plt.figure(figsize=(12,3))
     plt.subplot(1,2,1)
     distribution_by(upper_talc7,'health', fig=False, title="ê³¼ìŒ í•™ìƒ ê±´ê°•")
     plt.subplot(1,2,2)
     distribution_by(lower_talc7,'health', fig=False, title="ì¼ë°˜ í•™ìƒ ê±´ê°•")
     plt.figure(figsize=(12,3))
     plt.subplot(1,2,1)
     distribution_by(upper_talc7,'absences', fig=False, title="ê³¼ìŒ í•™ìƒ ê²°ì„íšŸìˆ˜")
     plt.subplot(1,2,2)
     distribution_by(lower_talc7,'absences', fig=False, title="ì¼ë°˜ í•™ìƒ ê²°ì„íšŸìˆ˜")

     plt.subplot(1,2,1)
     distribution_by(upper_talc7,'GT_math_rank_bin', fig=False, title="ê³¼ìŒ í•™ìƒ ìˆ˜í•™ ë“±ê¸‰")
     plt.subplot(1,2,2)
     distribution_by(lower_talc7,'GT_math_rank_bin', fig=False, title="ì¼ë°˜ í•™ìƒ ìˆ˜í•™ ë“±ê¸‰")
     ```

   ë‹¤ìŒìœ¼ë¡œëŠ” ìˆ  ì†Œë¹„ í–‰íƒœê°€ í•™ìƒë“¤ì˜ ì–´ë–¤ ë¶€ë¶„ê¹Œì§€ ì˜í–¥ì„ ë¯¸ì³¤ëŠ”ì§€ íŒŒì•…í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

   ìš°ì„  **í•™ì—…**ê³¼ ê´€ë ¨ëœ í•­ëª©ì„ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤.

   ![Untitled](images/Untitled%2050.png)

   - ë‚™ì œ ê°œìˆ˜ê°€ ë§ì€ í•™ìƒë“¤ì˜ ë¹„ìœ¨ì´ ê³¼ìŒì„ í•˜ëŠ” í•™ìƒì—ê²Œ ë” ë†’ê²Œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤ (33.4%). ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒë³´ë‹¤ ë‚™ì œ ê°œìˆ˜ê°€ ì•½ 1.7 % ë†’ìŠµë‹ˆë‹¤.

   ![Untitled](images/Untitled%2051.png)

   - ê³¼ìŒì„ í•˜ëŠ” í•™ìƒ ì¤‘ ì ˆë°˜ì€ 1ì£¼ì¼ ì´ 2ì‹œê°„ë„ ê³µë¶€í•˜ì§€ ì•Šë„¤ìš”. 5ì‹œê°„ ì´ìƒ ê³µë¶€í•˜ëŠ” í•™ìƒì€ 10.2 % ë°–ì— ì•ˆë©ë‹ˆë‹¤.
   - ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒê³¼ ë¹„êµ í–ˆì„ ë•Œ, 5ì‹œê°„ ì´ìƒ ê³µë¶€í•˜ëŠ” í•™ìƒì˜ ë¹„ìœ¨ì´ 2ë°° ì´ìƒ ì°¨ì´ê°€ ë‚©ë‹ˆë‹¤ 10.2 â†’ 24.7 %.

   ![Untitled](images/Untitled%2052.png)

   - ê³¼ìŒì„ í•˜ëŠ” í•™ìƒì€ ê²°ì„ íšŸìˆ˜ê°€ ìµœëŒ€ 28íšŒ(2.6 %) ê¹Œì§€ ë„“ê²Œ ë¶„í¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
   - ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ ë˜í•œ ë„“ì€ ì˜ì—­ì— ê±¸ì³ ë¶„í¬í•˜ê³  ìˆê¸°ëŠ” í•˜ì§€ë§Œ, ê·¸ ìˆ˜ê°€ ë§¤ìš° ì ìŠµë‹ˆë‹¤.
   - ê³¼ìŒì„ í•˜ëŠ” í•™ìƒë“¤ ì¤‘ ê²°ì„ íšŸìˆ˜ê°€ í•œ ë²ˆë„ ì—†ëŠ” í•™ìƒì€ 17.9 %, ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒì€ 30.3 %ì…ë‹ˆë‹¤.
   - ì—¬ëŸ¬ í™˜ê²½ì— ì˜í•´ ê²°ì„ì€ ìƒê¸¸ ìˆ˜ ë°–ì— ì—†ì£ . ê·¸ë ‡ë‹¤ë©´ 5ë²ˆ ì´ìƒ ê²°ì„í•œ í•™ìƒì˜ ì§‘ê³„ë¥¼ ë´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.
   - ê³¼ìŒì„ í•œ í•™ìƒ ì¤‘ 5íšŒ ì´ìƒ ê²°ì„í•œ í•™ìƒì€ 59 %ë¡œ ì ˆë°˜ì´ í›Œì© ë„˜ì–´ê°€ê³ , ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒì€ 36 % ë¡œ ì°¨ì´ê°€ ë§ì´ ë‚©ë‹ˆë‹¤.

   ![Untitled](images/Untitled%2053.png)

   - ìˆ˜í•™ ë“±ê¸‰ ë¶„í¬ ë¹„ìœ¨ì„ ì‚´í´ë´…ì‹œë‹¤. ê³¼ìŒì„ í•œ í•™ìƒì¤‘, ìˆ˜í•™ ê³ ë“ì ìëŠ”(1~3ë“±ê¸‰) 10.3 % ë°–ì— ì•ˆë˜ì§€ë§Œ, ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ ì¤‘ ê³ ë“ì ìëŠ” 24.9 %ë¡œ, 2ë°° ì´ìƒ ì°¨ì´ ë‚©ë‹ˆë‹¤.
   - í•™ìƒë“¤ì˜ ìŒì£¼í–‰íƒœê°€ ê·¼ë©´ì„±ê³¼ í•™ì—…ì— ì§€ì¥ì„ êµ‰ì¥íˆ ë§ì´ ì£¼ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

   ê·¸ë ‡ë‹¤ë©´, **ê±´ê°•**ì€ ì–´ë–¨ê¹Œìš”?

   ![Untitled](images/Untitled%2054.png)

   - ì—­ì‹œë‚˜, ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒë³´ë‹¤ ê³¼ìŒì„ í•˜ëŠ” í•™ìƒì˜ ê±´ê°•ìƒíƒœê°€ ë” ì•ˆì¢‹ìŠµë‹ˆë‹¤.
   - 4~5 (bad, very bad) ë²”ì£¼ì— í•´ë‹¹í•˜ëŠ” í•™ìƒ ì¤‘, ê³¼ìŒì„ í•˜ëŠ” í•™ìƒì€ 64.1 % ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒì€ 52.5 %ì…ë‹ˆë‹¤.

2. **_ë¬´ê´€í•´ ë³´ì´ëŠ” ìš”ì†Œ_**
   - ì „ì²´ ê·¸ë˜í”„ ë° ì½”ë“œ
     <ê³¼ìŒí•˜ëŠ” í•™ìƒ **upper_Talc7**>
     ```python
     # ë¬´ê´€

     plt.figure(figsize=(6,6))

     features =['sex', 'age', 'famsize']
     n=1
     for i in features:
         plt.subplot(2,2,n)
         data = upper_talc7[i].value_counts().sort_index()
         labels=data.index
         plt.pie(data, labels=labels, autopct = '%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'],
                 textprops={'size':12})
         plt.title('{} in upper_talc7 cluster'.format(i), fontsize=14, fontweight='bold')
         n += 1
     plt.tight_layout()
     plt.show()
     ```
     ![Untitled](images/Untitled%2055.png)
     <ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ **lower_Talc7**>
     ```python
     # ë¬´ê´€

     plt.figure(figsize=(6,6))

     features =['sex', 'age', 'famsize']
     n=1
     for i in features:
         plt.subplot(2,2,n)
         data = lower_talc7[i].value_counts().sort_index()
         labels=data.index
         plt.pie(data, labels=labels, autopct = '%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'],
                 textprops={'size':12})
         plt.title('{} in lower_talc7 cluster'.format(i), fontsize=14, fontweight='bold')
         n += 1
     plt.tight_layout()
     plt.show()
     ```
     ![Untitled](images/Untitled%2056.png)

![Untitled](images/Untitled%2057.png)

- í•™ìƒë“¤ì˜ ì„±ë³„, ë‚˜ì´, ê°€ì¡±ìˆ˜ë¥¼ ì‚´í´ë´¤ì„ ë•Œ, ìœ ì˜ë¯¸í•œ ì°¨ì´ê°€ ë‚˜ëŠ” ìš”ì†ŒëŠ” **ì„±ë³„**ì´êµ°ìš”. ê³¼ìŒí•˜ëŠ” í•™ìƒì˜ 87.2 % ëŠ” ë‚¨í•™ìƒì…ë‹ˆë‹¤.
- ìˆ˜í•™ ê³¼ëª©ì„ ìˆ˜ê°•í•˜ëŠ” í•™ìƒ 395ëª… ì¤‘, 208ëª…ì´ ì—¬í•™ìƒ, 187ëª…ì´ ë‚¨í•™ìƒì¸ ì ì„ ê³ ë ¤í•˜ë©´, ì„¤ë¬¸ì— ì°¸ì—¬í•œ ë‚¨ë…€ ì„±ë¹„ ë•Œë¬¸ì€ ì•„ë‹ˆë„¤ìš”.

---

**íšŒê·€ëª¨ë¸(lightbgm) ê¸°ë°˜ Feature Importance ë„ì¶œ ë° ì‹œê°í™”**

- ì½”ë“œ
  ```python
  # ëª…ëª©í˜• ë³€ìˆ˜ dummy ì²˜ë¦¬
  math_dummy = math.copy(deep=True)
  math_dummy = pd.get_dummies(math_dummy, columns=['school', 'sex', 'address', 'famsize', 'Pstatus', 'Mjob', 'Fjob',
         'reason', 'guardian', 'schoolsup', 'famsup', 'paid', 'activities',
         'nursery', 'higher', 'internet', 'romantic'])

  # íšŒê·€ëª¨ë¸ êµ¬í˜„
  import lightgbm
  from lightgbm import LGBMRegressor
  from sklearn.model_selection import train_test_split
  from lightgbm import plot_importance
  from sklearn.metrics import mean_squared_error
  import math as m

  # ë°ì´í„° ì¤€ë¹„
  X=math_dummy.copy(deep=True)
  X=X.drop(columns=['Talc', 'Walc', 'Dalc'], axis=1)
  y=math_dummy['Talc']

  # train & test data ë¶„ë¦¬
  X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=2023)

  # Gridsearchë¥¼ í†µí•´ ë„ì¶œí•œ hyperparameter ì ìš©
  lightgbm = LGBMRegressor(random_state=2023, n_estimators=200,
                           max_depth=1, learning_rate=0.1,
                           num_leaves=15)

  # ëª¨ë¸ í•™ìŠµ ë° í…ŒìŠ¤íŠ¸
  lightgbm.fit(X_train, y_train)
  y_pred = lightgbm.predict(X_test)
  print('mse:', mean_squared_error(y_test, y_pred))
  print('rmse:',m.sqrt(mean_squared_error(y_test, y_pred)))
   >>> mse: 2.395813178356657
   >>>rmse: 1.5478414577587256

  # Feature Importance ì‹œê°í™”
  f, ax = plt.subplots(figsize=(6, 6))
  plot_importance(lightgbm, max_num_features=20, ax=ax, importance_type='gain')
  ```
- lightgbm íšŒê·€ ëª¨ë¸ì„ ì´ìš©í•´ ìŒì£¼í–‰íƒœì™€ ê´€ë ¨ëœ Feature importanceë¥¼ ì°¾ì•„ë³´ê² ìŠµë‹ˆë‹¤.
- ì›ë˜ëŠ” ì¢…ì†ë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ì€ ê²½ìš° ì¤‘ìš”ë„ê°€ í° ìš”ì†Œë¥¼ íŒŒì•…í•˜ê³  ì¤‘ìš”ë„ê°€ ë–¨ì–´ì§€ëŠ” ìš”ì†Œë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ íšŒê·€ëª¨ë¸ì„ ì´ìš©í•´ feature importanceë¥¼ ë„ì¶œí•©ë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜, ë°ì´í„° ìˆ˜ê°€ ë„ˆë¬´ ì‘ê³  (395 ê°œ) ë³¸ **EDAì˜ ëª©ì ì€ ìŒì£¼í–‰íƒœì— ì˜í–¥ì„ ë¼ì¹˜ëŠ” í™˜ê²½ì  ìš”ì¸ì€ ë¬´ì—‡ì¸ì§€, ìŒì£¼ í–‰íƒœê°€ í•™ìƒë“¤ì˜ ìƒí™œì— ì–´ë–¤ ì˜í–¥ì„ ì£¼ê³ ìˆëŠ”ì§€ë¥¼ íŒŒì•…í•˜ê³  ì˜¬ë°”ë¥¸ â€œë•â€ì„ í•¨ì–‘í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–¤ ë¶€ë¶„ì„ ê°œì„ í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ íŒŒì•…í•˜ëŠ” ê²ƒ**ì…ë‹ˆë‹¤. ë•Œë¬¸ì— **ìœ„ì—ì„œ íŒŒì•…í•œ ì •ë³´ì™€ íšŒê·€ ëª¨ë¸ì„ í†µí•´ ë„ì¶œëœ ë³€ìˆ˜ê°€ ì¼ë§¥ìƒí†µí•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©**í•˜ê² ìŠµë‹ˆë‹¤.
- ëª…ëª©í˜• ë³€ìˆ˜ê°€ ë§ì•„ ì•„ë˜ í•­ëª©ë“¤ì€ dummy ë³€í™˜ì„ í•´ì¤€ ë’¤, í•™ìŠµí•˜ì˜€ìŠµë‹ˆë‹¤.
  â‡’ ['school', 'sex', 'address', 'famsize', 'Pstatus', 'Mjob', 'Fjob', 'reason', 'guardian', 'schoolsup', 'famsup', 'paid', 'activities', 'nursery', 'higher', 'internet', 'romantic']

![Untitled](images/Untitled%2058.png)

- lightbgm íšŒê·€ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ ìŒì£¼ëŸ‰ê³¼ ê´€ë ¨ëœ ìš”ì†Œë¥¼ ë„ì¶œí•´ë³´ì•˜ìŠµë‹ˆë‹¤.
- ìŒì£¼ í–‰íƒœì— ì˜í–¥ì„ ë¼ì³¤ë˜ â€œì¹œêµ¬ì™€ì˜ ì•½ì† ë¹ˆë„(goout)â€ê°€ ê°€ì¥ ë†’ì€ ì¤‘ìš”ë„ë¥¼ ë³´ì´ëŠ”êµ°ìš”.
- â€œì„±ë³„(sex)â€ê³¼ ìŒì£¼ í–‰íƒœê°€ ì˜í–¥ì„ ë¼ì¹œ í•­ëª©ì¸ â€œê²°ì„ íšŸìˆ˜(absences)â€, â€œ3í•™ë…„ ìˆ˜í•™ ì„±ì (G3_math)â€ ì´ ê·¸ ë’¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.
- ì•ì„œ ë¶„ì„í–ˆë˜ ë‚´ìš©ê³¼ ì˜ ì¼ì¹˜í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê·¸ëŸ°ë° ì´ìƒí•œ ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ heatmapì„ ë³´ë©´ 1(G1), 2(G2), 3(G3), ì „ì²´(GT) í•™ë…„ ì„±ì ê°„ì˜ ìƒê´€ê´€ê³„ê°€ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤. ì¦‰, ì„±ì ì´ ì¢‹ì€ í•™ìƒì€ í•™ë…„ì„ ê±°ë“­í•´ ì˜¬ë¼ê°€ë„ ê³„ì† ì¢‹ê³  ë‚˜ìœ í•™ìƒì€ ê³„ì† ë‚˜ì˜ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.
- ê·¸ëŸ°ë° ìœ„ feature importanceì—ì„œ G3ì™€ G2ê°€ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆê³  G1ê³¼ GTëŠ” ë³´ì´ì§€ ì•Šë„¤ìš”.
- heatmap ì‹œê°í™” ì½”ë“œ
  ```python
  math_dummy_woG = math_dummy.drop(['G1_scale_math', 'G2_scale_math',
         'G3_scale_math', 'GT_scale_math', 'G1_math_rank', 'G2_math_rank',
         'G3_math_rank', 'GT_math_rank', 'G1_math_rank_bin', 'G2_math_rank_bin',
         'G3_math_rank_bin', 'GT_math_rank_bin'], axis=1)

  import scipy as sp
  import seaborn as sns

  cor_abs = abs(math_dummy_woG.corr(method='spearman'))

  cor_cols = cor_abs.nlargest(n=5, columns='G1_math').index

  # spearman coefficient matrix
  cor = np.array(sp.stats.spearmanr(math_dummy_woG[cor_cols].values))[0] # 10 x 10
  print(cor_cols.values)
  plt.figure(figsize=(6,6))
  sns.set(font_scale=2)
  sns.heatmap(cor, fmt='.2f', annot=True, square=True, annot_kws={'size' : 8},
             xticklabels=cor_cols.values, yticklabels=cor_cols.values)
  ```

![Untitled](images/Untitled%2059.png)

- ì„±ì ê³¼ ê´€ë ¨ëœ featureê°€ ë„ˆë¬´ ë§ìœ¼ë¯€ë¡œ, ì „ì²´ í•™ë…„ **ìˆ˜í•™ ì ìˆ˜ì™€ ë“±ê¸‰ í•­ëª©ì„ ì œì™¸**í•˜ê³  ë‹¤ì‹œ ì¤‘ìš”ë„ë¥¼ ê³„ì‚°í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

![Untitled](images/Untitled%2060.png)

- ì•ì„œ íšŒê·€í•™ìŠµ ëª¨ë¸ë§ì„ ìœ„í•´ ëª…ëª©í˜• ìë£Œì¸ ì•„ë˜ í•­ëª©ë“¤ì„ dummy ë³€í™˜ ì‹œì¼°ê¸° ë•Œë¬¸ì— ì„±ë³„ í•­ëª©ì´ ë‚¨ì—¬ê°€ ëª¨ë‘ í¬í•¨ëœ sexê°€ ì•„ë‹Œ, sex_Fë¡œ ë‚˜íƒ€ë‚˜ê¸°ëŠ” í•˜ì§€ë§Œ, í™•ì‹¤íˆ ì„±ë³„ì— ë”°ë¥¸ ìŒì£¼ í–‰íƒœê°€ ëšœë ·í•˜êµ°ìš”.
- ë„ì¶œëœ Feature importanceì˜ ìƒìœ„ ë‘ ê°€ì§€ í•­ëª©(goout, sex)ê³¼ ì•Œì½œì†Œë¹„ëŸ‰(Talc), ê·¸ë¦¬ê³  ìˆ˜í•™ ë“±ê¸‰ê°„ì˜ ìƒê´€ê´€ê³„ë¥¼ ë„ì‹œí™” í•˜ì—¬ ë‚˜íƒ€ë‚´ë©´ì„œ ìˆ˜í•™ ê³¼ëª©ì— ëŒ€í•œ EDAë¥¼ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.
- ì½”ë“œ
  ```python
  import seaborn as sns
  sns.set_style('whitegrid')
  sns.jointplot(data=math, x='Talc', y='GT_scale_math', hue='goout', height=10
               ,ratio=3, space=0)
  plt.show()
  ```

![Untitled](images/Untitled%2061.png)

![Untitled](images/Untitled%2062.png)

ë‹¤ìŒìœ¼ë¡œëŠ” êµ­ì–´ ê³¼ëª©ì„ ì‹œí—˜ì¹œ í•™ìƒë“¤ì˜ ë°ì´í„°ë¥¼ ë¶„ì„í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ë¹„ìŠ·í•œ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚ ê¹Œìš”?

### Student_portuguese

ì£¼ì¤‘(Dalc)ê³¼ ì£¼ë§(Walc)ì— ì•Œì½œì„ ì†Œë¹„í•˜ëŠ” í•™ìƒì˜ ë¹„ìœ¨ì…ë‹ˆë‹¤.

![Untitled](images/Untitled%2063.png)

![Untitled](images/Untitled%2064.png)

ìˆ˜í•™ ê³¼ëª©ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë‘ ì»¬ëŸ¼(Dalc, Walc)ì„ í•©ì³ ë¶„ì„ì— í™œìš© (Talc)í•˜ê² ìŠµë‹ˆë‹¤.

![Untitled](images/Untitled%2065.png)

**ê³¼ìŒí•˜ëŠ” í•™ìƒ(Talc 7~9) ( 70/ 649= 11 %)**

**ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ(Talc 2~6) ( 579/ 649= 89 %)**

â‡’ ìˆ˜í•™ê³¼ëª©ê³¼ ë‘ ì§‘ë‹¨ì˜ ë¹„ìœ¨ì´ ë¹„ìŠ·í•©ë‹ˆë‹¤.

â‡’ Talc 7ì¸ í•™ìƒì¤‘, ì£¼ì¤‘ í˜¹ì€ ì£¼ë§ì—ë§Œ ê³¼ìŒí•˜ëŠ” í•™ìƒ ìˆ˜ë¥¼ ì‚´í´ë³´ë©´, ì£¼ì¤‘ì— ê°•ë„ 2, ì£¼ë§ì— ê°•ë„ 5ë¡œ ë§ˆì‹œëŠ” í•™ìƒì´8ëª…ì´ê³ , ì£¼ì¤‘ 5, ì£¼ë§ 2 ê°•ë„ë¡œ ë§ˆì‹œëŠ” í•™ìƒ 1ëª…ìœ¼ë¡œ ì´ 9ëª… ì…ë‹ˆë‹¤.

â‡’ Talc 7ì¸ ì „ì²´ í•™ìƒ ìˆ˜ëŠ” 32ëª…ìœ¼ë¡œ ì£¼ì¤‘ í˜¹ì€ ì£¼ë§ì—ë§Œ ê°•ë„5ë¡œ ë§ˆì‹œëŠ” í•™ìƒì´ ì•½ 40%ì— í•´ë‹¹ë©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” ê°•ë„ 3, 4 ë¡œ ì£¼ì¤‘ê³¼ ì£¼ë§ì— ëª¨ë‘ ì•Œì½œì„ ì†Œë¹„í•˜ë¯€ë¡œ ê³¼ìŒí•˜ëŠ” í•™ìƒêµ°ìœ¼ë¡œ ì‚¼ê¸°ì— ë¬¸ì œê°€ ì—†ì–´ ë³´ì…ë‹ˆë‹¤.

---

**ê³¼ìŒí•˜ëŠ” í•™ìƒ(upper_Talc7)ê³¼ ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒ(lower_Talc7)ì˜ ì°¨ì´ë¥¼ ì•Œì•„ë³´ë„ë¡ í•˜ì£ . ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.**

1. ìˆ  ì†Œë¹„ í–‰íƒœì— ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ

   â‡’ 'reason', 'school', 'activities', 'higher','internet', 'romantic',
   'goout', 'address','Pstatus', 'Medu', 'Fedu', 'paid', 'nursery',
   'famrel'

2. ë¬´ê´€í•´ë³´ì´ëŠ” ìš”ì†Œ

   â‡’ 'failures', 'studytime', 'health', 'absences','G1_math_rank_bin',
   'G2_math_rank_bin','G3_math_rank_bin', 'GT_math_rank_bin'

3. ìˆ  ì†Œë¹„ í–‰íƒœê°€ ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ

   â‡’ 'sex', 'age', 'famsizeâ€™

4. **_ìˆ  ì†Œë¹„ í–‰íƒœì— ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ_**

   - ì „ì²´ ê·¸ë˜í”„ ë° ì½”ë“œ
     ```python
     # ìˆ  ì†Œë¹„ í–‰íƒœì— ì˜í–¥ì„ ë¼ì¹œ ìš”ì†Œ
     plt.figure(figsize=(60,60))

     affected = ['reason', 'school', 'activities', 'higher','internet', 'romantic',
                 'goout', 'address','Pstatus', 'Medu', 'Fedu', 'paid', 'nursery',
                 'famrel']
     n=1
     for i in affected:
         plt.subplot(4,4,n)
         data = upper_talc7[i].value_counts().sort_index()
         labels=data.index
         plt.pie(data, labels=labels, autopct = '%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'],
                 textprops={'size':60})
         plt.title('{} in upper_talc7 cluster'.format(i), fontsize=70, fontweight='bold')
         n += 1
     plt.tight_layout()
     plt.show()

     # ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ë³´ì´ëŠ” í•™êµ¬ì—´ê³¼ ì•½ì†ë¹ˆë„ ì‹œê°í™”
     plt.rcParams["font.family"] = 'Malgun Gothic'

     data1 = upper_talc7['higher'].value_counts().sort_index()
     label1=data1.index
     data2 = lower_talc7['higher'].value_counts().sort_index()
     label2=data2.index
     data3 = upper_talc7['goout'].value_counts().sort_index()
     label3=data3.index
     data4 = lower_talc7['goout'].value_counts().sort_index()
     label4=data4.index

     plt.figure(figsize=(10, 10))

     plt.subplot(2,2,1)
     ax = plt.pie(data1, labels=label1, autopct ='%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'], textprops={'size':14})
     plt.title('ê³¼ìŒ í•™ìƒ í•™êµ¬ì—´', fontsize=(20))
     plt.subplot(2,2,2)
     ax = plt.pie(data2, labels=label2, autopct ='%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'], textprops={'size':14})
     plt.title('ì¼ë°˜ í•™ìƒ í•™êµ¬ì—´', fontsize=(20))
     plt.subplot(2,2,3)
     ax = plt.pie(data3, labels=label3, autopct ='%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'], textprops={'size':14})
     plt.title('ê³¼ìŒ í•™ìƒ ì•½ì†ë¹ˆë„', fontsize=(20))
     plt.subplot(2,2,4)
     ax = plt.pie(data4, labels=label4, autopct ='%.1f%%',
                 colors=['lightcoral', 'khaki', 'paleturquoise', 'lightsteelblue', 'plum'], textprops={'size':14})
     plt.title('ì¼ë°˜ í•™ìƒ ì•½ì†ë¹ˆë„', fontsize=(20))
     ```
     ![Untitled](images/Untitled%2066.png)

   ìŒì£¼ì™€ **ê°•í•œ ìƒê´€ê´€ê³„**ë¥¼ ë³´ì´ëŠ” ìš”ì†ŒëŠ” ìˆ˜í•™ê³¼ëª©ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë‘ ê°€ì§€ ì…ë‹ˆë‹¤. ì¹œêµ¬ë“¤ê³¼ì˜ ì•½ì†ë¹ˆë„ê°€ ì—­ì‹œë‚˜ í¬í•¨ë˜ì§€ë§Œ, êµ­ì–´ë¥¼ ìˆ˜ê°•í•œ í•™ìƒë“¤ì˜ ê²½ìš°ì—ëŠ” ë¶€ëª¨ë‹˜ê³¼ì˜ ê±°ì£¼ ì—¬ë¶€ ë³´ë‹¤ â€œí•™êµ¬ì—´(higher)â€ì´ ìˆ  ì†Œë¹„ í–‰íƒœì™€ ë” ê´€ê³„ê°€ ìˆì–´ ë³´ì…ë‹ˆë‹¤.

   ![Untitled](images/Untitled%2067.png)

- í•™ì—…ì— ì—´ì˜ê°€ ì—†ëŠ” í•™ìƒì˜ ë¹„ìœ¨ì´ ê³¼ìŒí•™ìƒ ì§‘ë‹¨ì— ë” í¬ê²Œ ë‚˜íƒ€ë‚˜ê³ , ì—­ì‹œë‚˜ ì¹œêµ¬ì™€ ì•½ì†ë¹ˆë„ê°€ ë†’ì„ìˆ˜ë¡ ìˆ ì„ ë§ì´ ì†Œë¹„í•©ë‹ˆë‹¤.

1. **_ìˆ  ì†Œë¹„ í–‰íƒœê°€ ì˜í–¥ì„ ë¼ì³¤ì„ë§Œí•œ ìš”ì†Œ_**

![Untitled](images/Untitled%2068.png)

- ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒë“¤ì˜ ë‚™ì œíšŸìˆ˜(1~3) ë¹„ìœ¨ì´ ì°¨ì´ê°€ ë§ì´ ë‚˜ë„¤ìš”. ê³¼ìŒí•˜ëŠ” í•™ìƒ ì¤‘ ë‚™ì œ ë¹„ìœ¨ì´ 28.6 %ì— ë‹¬í•˜ì§€ë§Œ, ê³¼ìŒí•˜ì§€ ì•ŠëŠ” í•™ìƒì€ 13.8 %ì…ë‹ˆë‹¤.

![Untitled](images/Untitled%2069.png)

- ê³¼ìŒì„ í•˜ëŠ” í•™ìƒ ì¤‘ 60%ëŠ” 1ì£¼ì¼ ì´ ê³µë¶€ ì‹œê°„ì´ 2ì‹œê°„ë„ ì•ˆë©ë‹ˆë‹¤.
- ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒê³¼ ë¹„êµ í–ˆì„ ë•Œ, ì¼ì£¼ì¼ì— 5ì‹œê°„ ì´ìƒ ê³µë¶€í•˜ëŠ” í•™ìƒì˜ ë¹„ìœ¨ì´ ì•½ 2ë°°ì— ë‹¬í•©ë‹ˆë‹¤ 11.4 â†’ 21.4 %.
  ![Untitled](images/Untitled%2070.png)
- ê³¼ìŒì„ í•œ í•™ìƒ ì¤‘ 5íšŒ ì´ìƒ ê²°ì„í•œ í•™ìƒì€ 43%, ì¼ë°˜ í•™ìƒì€ 26 %ë¡œ ì°¨ì´ê°€ ë§ì´ ë‚˜ë„¤ìš”.
  ![Untitled](images/Untitled%2071.png)
- ì¶œì„ì´ ì•ˆ ì¢‹ê³  ê³µë¶€ì‹œê°„ì´ ì ìœ¼ë©´ ì„±ì ì´ ì•ˆë‚˜ì˜¬ìˆ˜ë°–ì— ì—†ì£ .
- ê³¼ìŒì„ í•œ í•™ìƒì¤‘, ìˆ˜í•™ ê³ ë“ì ìëŠ” (1~3ë“±ê¸‰) 11.4 %, ì¼ë°˜ í•™ìƒ ì¤‘ ê³ ë“ì ìëŠ” 26 %ë¡œ, 2ë°° ì´ìƒ ì°¨ì´ê°€ ë‚©ë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´, **ê±´ê°•**ì€ ì–´ë–¨ê¹Œìš”?

![Untitled](images/Untitled%2072.png)

- ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒë³´ë‹¤ ê³¼ìŒì„ í•˜ëŠ” í•™ìƒì˜ ê±´ê°•ìƒíƒœê°€ ë” ì•ˆì¢‹ìŠµë‹ˆë‹¤.
- 4~5 (bad, very bad) ë²”ì£¼ì— í•´ë‹¹í•˜ëŠ” í•™ìƒ ì¤‘, ê³¼ìŒì„ í•˜ëŠ” í•™ìƒì€ 64.3 % ê³¼ìŒì„ í•˜ì§€ ì•ŠëŠ” í•™ìƒì€ 53.9 % ì…ë‹ˆë‹¤.
-

1. **_ë¬´ê´€í•´ ë³´ì´ëŠ” ìš”ì†Œ_**

   ![Untitled](images/Untitled%2073.png)

- í•™ìƒë“¤ì˜ ì„±ë³„, ë‚˜ì´, ê°€ì¡±ìˆ˜ë¥¼ ì‚´í´ë´¤ì„ ë•Œ, ìˆ˜í•™ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ìœ ì˜ë¯¸í•œ ì°¨ì´ê°€ ë‚˜ëŠ” ìš”ì†ŒëŠ” **ì„±ë³„**ì´êµ°ìš”. ê³¼ìŒí•˜ëŠ” í•™ìƒì˜ 80 % ê°€ ë‚¨í•™ìƒì…ë‹ˆë‹¤.
- êµ­ì–´ë¥¼ ìˆ˜ê°•í•˜ëŠ” í•™ìƒì˜ ì„±ë¹„ ë˜í•œ ì—¬í•™ìƒì´ ë” ë§ìŠµë‹ˆë‹¤. ì „ì²´ 649ëª… ì¤‘, 383ëª…ì´ ì—¬í•™ìƒì´ê³  266ëª…ì´ ë‚¨í•™ìƒì´ë¯€ë¡œ, ì„¤ë¬¸ì— ì°¸ì—¬í•œ ì„±ë¹„ ì°¨ì´ë¡œ ì¸í•œ ê²°ê³¼ê°€ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì „ë°˜ì ìœ¼ë¡œ ìˆ˜í•™ ê³¼ëª©ì„ ë¶„ì„í–ˆì„ ë•Œì™€ ê°™ì€ ì–‘ìƒì„ ë³´ì´ê³  ìˆìœ¼ë©°, í•œ ê°€ì§€ ë‹¤ë¥¸ ì ì€ í•™ìƒì˜ ìŒì£¼í–‰íƒœì— ì˜í–¥ì„ ë¼ì¹œ í™˜ê²½ì  ìš”ì¸ì´ â€œì•½ì†ë¹ˆë„â€ ì™€ â€œë¶€ëª¨ë‹˜ê³¼ ê±°ì£¼ì—¬ë¶€â€ê°€ ì•„ë‹Œ, â€œì•½ì†ë¹ˆë„â€ì™€ â€œí•™ì—…ì˜ì§€â€ ë¼ëŠ” ì ì…ë‹ˆë‹¤.
- íšŒê·€ ëª¨ë¸ë¡œ ë„ì¶œëœ ì¤‘ìš”í•œ ë³€ìˆ˜ëŠ” ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

---

**íšŒê·€ëª¨ë¸(lightbgm) ê¸°ë°˜ Feature Importance ë„ì¶œ ë° ì‹œê°í™”**

- êµ­ì–´ ê³¼ëª©ë„ ìˆ˜í•™ê³¼ ë™ì¼í•˜ê²Œ ì„±ì ê°„ ìƒê´€ê³„ìˆ˜ê°€ ë†’ìœ¼ë¯€ë¡œ êµ­ì–´ ë“±ê¸‰ í•­ëª©ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì ìˆ˜ ê´€ë ¨ í•­ëª©ì„ ì§€ìš°ê³  feature importance ë„ì¶œí•˜ê² ìŠµë‹ˆë‹¤.

![Untitled](images/Untitled%2074.png)

![Untitled](images/Untitled%2075.png)

- ì•½ì†ë¹ˆë„, ì„±ë³„, ê²°ì„íšŸìˆ˜, ê³µë¶€ì‹œê°„, êµ­ì–´ ì„±ì  í•­ëª© ìˆœìœ¼ë¡œ ì•Œì½œì†Œë¹„ëŸ‰ ì‚¬ì´ì˜ ìƒê´€ê´€ê³„ê°€ ë†’ê²Œ ë‚˜íƒ€ë‚˜ë„¤ìš”. í•™ìƒë“¤ì˜ í•™ì—…ì˜ì§€ ì°¨ì´ê°€ íšŒê·€ëª¨ë¸ ë¶„ì„ìœ¼ë¡œ ë„ì¶œë˜ê¸°ì—” ì°¨ì´ê°€ ë„ˆë¬´ ì ì—ˆë‚˜ ë´…ë‹ˆë‹¤.
- ìœ„ í•­ëª©ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ë„ì‹œí™” í•˜ë©° êµ­ì–´ ê³¼ëª©ì— ëŒ€í•œ EDAë¥¼ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.

![Untitled](images/Untitled%2076.png)

![Untitled](images/Untitled%2077.png)

![Untitled](images/Untitled%2078.png)

### **â€œë•â€ Conclusion**

> í•™ìƒë“¤ì˜ ìŒì£¼ í–‰íƒœì— ê°€ì¥ í¬ê²Œ ì˜í–¥ì„ ë¼ì¹œ ìš”ì¸ì€ ì¹œêµ¬ë“¤ê³¼ì˜ â€œ**ì•½ì†ë¹ˆë„â€** ì´ë©°, \***\*ê³¼í•œ ìŒì£¼ëŠ” â€œ**ì¶œê²°ê³¼ í•™ì—… ì„±ì·¨ë„, ì„±ì **â€ ë“± í•™ì—…ì— ë§ì€ ì§€ì¥ì„ ë¼ì¹˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë˜í•œ, ì„¤ë¬¸ì— ì°¸ì—¬í•œ ì„±ë¹„ëŠ” ì—¬í•™ìƒì´ ë” ë†’ì€ë°ë„ ë¶ˆêµ¬í•˜ê³  â€œ**ë‚¨í•™ìƒ\*\*â€ë“¤ì´ ìˆ ì„ ê³¼í•˜ê²Œ ì†Œë¹„í•˜ëŠ” ê²½í–¥ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤. í•™ìƒë“¤ì´ â€œë•â€ì„ í•¨ì–‘í•˜ê¸° ìœ„í•´ì„œëŠ” í•™ì—… ì˜ì§€ë¥¼ ê°–ê³  ê³µë¶€ì— í• ì• í•˜ëŠ” ì‹œê°„ì„ ëŠ˜ë ¤ ì „ë°˜ì ì¸ í•™ì—… ì„±ì·¨ê°ì„ ëŠë¼ëŠ”ê²Œ ì¢‹ê² ë„¤ìš”. ê³¼ìŒë¹„ìœ¨ì´ ë†’ì€ ë‚¨í•™ìƒì„ ëŒ€ìƒìœ¼ë¡œëŠ” í•™êµì—ì„œ ê¸ˆì£¼êµìœ¡ê³¼ ê¸ˆì£¼ì„¼í„° ì„¤ë¦½ì„ í†µí•œ ê¾¸ì¤€í•œ ì¼€ì–´ì™€ ê°€ì¡±ì˜ ê´€ì‹¬ì´ ë„ì›€ì„ ì¤„ ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

## ì²´ğŸ¦¿

- [ì²´ğŸ¦¿]ê³¼ëª© ë‹´ë‹¹Â ë„ë¹„ì˜ ê³ ë¯¼?
  **ìš”ì²­ ë‚´ìš©**
    <aside>
    ğŸ˜” ìš°ë¦¬ ì• ê°€ ë‹¤ ì¢‹ì€ë° ê±´ê°•ì´ ì•ˆì¢‹ì•„ì„œ ê±±ì •ì´ì—ìš”â€¦ ì´ìœ ë¥¼ ì°¾ì•„ì£¼ì„¸ìš”!
    
    </aside>
    
    **ë¬¸ì œ ì •ì˜**
    
    <aside>
    ğŸ§ **í•™ìƒì˜ ê±´ê°• ìƒíƒœì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì›ì¸**ë“¤ì€ ë¬´ì—‡ì¼ê¹Œìš”? ê·¸ëŸ° í•™ìƒë“¤ì„ ìœ í˜•í™”í•´ì„œ ë§ì¶¤ ì†”ë£¨ì…˜ì„ ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?
    
    </aside>
    
    **ê°€ì„¤ ì„¤ì •**
    
    <aside>
    ğŸ‘Œ ê±´ê°• ìƒíƒœëŠ” í•™ìƒì˜ ìœ í˜•ë§ˆë‹¤ ë‹¤ì–‘í•œ ìš”ì¸ì´ ë³µí•©ì ìœ¼ë¡œ ì‘ìš©í•  ê²ƒì´ë‹¤.
    
    </aside>
    
    **ì˜ˆìƒ Output**
    
    <aside>
    ğŸ¤— 1- ëª¨ë¸ë§ì„ í†µí•œ health ê´€ë ¨ ì¤‘ìš” ë³€ìˆ˜ ì„ ì •
    2- í•™ìƒ íŠ¹ì„±ë³„ ìœ í˜• ë¶„ë¥˜ì™€ ìœ í˜•ë³„ ì¤‘ìš” ë³€ìˆ˜ ë„ì¶œ
    
    </aside>


### 1. í•™ìƒ ê±´ê°•ë°ì´í„°(health) EDA

ğŸ˜« **ë­£ì´â€¦. ë­£ì´ ì¤‘í—Œë””â€¦. ê±´ê°•ì´ ìš°ì„ ì´ì§€..!!** í•˜ì‹œëŠ” ìš°ë¦¬ ë„ë¹„ í•™ë¶€ëª¨ë‹˜ë“¤, ìš°ë¦¬ì• ëŠ” ì™œ ì´ë¦¬ ì•„í”ˆë°ê°€ ë§ì€ì§€ ë„ë¬´ì§€ ëª¨ë¥´ì‹œê² ë‹¤êµ¬ìš”?

í•™ìƒë“¤ì˜ ê±´ê°• ë°ì´í„°ë¥¼ ë¶„ì„í•´ ì›ì¸ë³„ ì†”ë£¨ì…˜ì„ ì œê³µí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤!

**1) health**

í•™ìƒë“¤ì˜ ê±´ê°•ìƒíƒœ ë°ì´í„°ëŠ” 5ì  ì²™ë„ë¡œ ì‘ë‹µë˜ì–´ 1(ë§¤ìš° ë‚˜ì¨) ~ 5(ì•„ì£¼ ì¢‹ìŒ) ì‚¬ì´ì˜ ì •ìˆ˜ê°’ì„ ê°–ìŠµë‹ˆë‹¤.

- health
  ì „ì²´ í•™ìƒë“¤ì˜ ê±´ê°•ìƒíƒœëŠ” ë‹¤ìŒê³¼ ê°™ì´ **ì•„ì£¼ ì¢‹ìŒ(37.8%) > ì¤‘ê°„(20.6%) > ì¡°ê¸ˆ ì¢‹ìŒ(16.7%) > ì•„ì£¼ ë‚˜ì¨(13.1%) > ì¡°ê¸ˆ ë‚˜ì¨(11.8%)** ìˆœìœ¼ë¡œ í° ë¶„í¬ í˜•íƒœë¥¼ ë„ê³  ìˆìŠµë‹ˆë‹¤.
  ë¨¼ì €, ë°ì´í„° ì‹œê°í™”ë¥¼ í†µí•´ í•´ë‹¹ ë¶„í¬ì—ì„œ ë²—ì–´ë‚œ ìš”ì¸ë“¤ê³¼ ê±´ê°• ìƒíƒœì— ë”°ë¥¸ ìš”ì¸ì˜ ë¶„í¬ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.
  ![Untitled](images/Untitled%2079.png)
  - Bar plot(binary/discrete ìš”ì¸ë³„ ê±´ê°•ìƒíƒœ ë¶„í¬ ë¹„êµ)
    - **sex(ì„±ë³„)** - ì—¬í•™ìƒì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ê±´ê°•ì´ ì¢‹ì€ ë‚¨í•™ìƒì˜ ë¹„ìœ¨(ì—¬: 32%, ë‚¨: 45%)ì´ **ë†’ê³ **, ê±´ê°•ì´ ë‚˜ìœ ë‚¨í•™ìƒì˜ ë¹„ìœ¨(ì—¬: 16%, ë‚¨: 9%)ì´ **ë‚®ì€** ë¶„í¬ë¥¼ ë³´ì…ë‹ˆë‹¤.
    - internet(ê°€ì • ì¸í„°ë„· ìœ ë¬´) - ì¸í„°ë„·ì´ ì„¤ì¹˜ëœ ê°€ì •ì— ë¹„í•´ **ì¸í„°ë„·ì´ ì—†ëŠ” í•™ìƒë“¤**ì´ ì•„ì£¼ ì¢‹ì€ ê±´ê°•ìƒíƒœì¸ ë¹„ìœ¨(N: 41%, Y:37%)ì´ **ë†’ê³ **,
      ì•ˆì¢‹ì€ ê±´ê°•ìƒíƒœì¸ ë¹„ìœ¨(N: 21%, Y:26%)ì´ **ë‚®ì€** ë¶„í¬ë¥¼ ë³´ì…ë‹ˆë‹¤.
    - higher(ëª©í‘œ ì˜ì‹), romantic(ì—°ì•  ì—¬ë¶€) ë“± - ìš”ì¸ì— ë”°ë¥¸ í•™ìƒ ê±´ê°•ìƒíƒœì˜ ë¶„í¬ê°€ ê±°ì˜ ìœ ì‚¬í•œ ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.
  ![Untitled](images/Untitled%2080.png)
  - box plot(ê±´ê°•ìƒíƒœì— ë”°ë¥¸ continuous, numeric ë³€ìˆ˜ ëŒ€ìƒ í†µê³„ê°’ í™•ì¸)
    - ê°„ë‹¨í•˜ê²Œ í™•ì¸í•´ë´¤ì§€ë§Œ ê±´ê°•ìƒíƒœì— ë”°ë¥¸ ì„±ì (G1~G3), ê²°ì„(absences) ë°ì´í„°ì˜ ë¶„í¬ì—ì„œ í° ì°¨ì´ê°€ ì—†ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ë‚œê°í•˜êµ°ìš”..
  ![Untitled](images/Untitled%2081.png)
  - _codeâ€¦_
    ```python

    ```

**2) correlation ë¶„ì„**

- **ìƒê´€ê´€ê³„(correlation) ë¶„ì„**ì„ í†µí•´ **ë³€ìˆ˜ê°„ ì„ í˜•ê´€ê³„ê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ í™•ì¸**í•´ë³´ê² ìŠµë‹ˆë‹¤.
- ë‹¤ìŒì€ healthë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë†’ì€ ìƒê´€ê´€ê³„ë¥¼ ê°–ëŠ” ìƒìœ„ 15ê°œì˜ ë³€ìˆ˜ë¥¼ ì¶”ì¶œí•œ heatmap ì…ë‹ˆë‹¤.
  - **health(target) - other: ì„¤ëª…ë³€ìˆ˜** - ë…ë¦½ë³€ìˆ˜ê°„ ìƒê´€ê´€ê³„ ë¶„ì„
    - ìƒìœ„ 15ê°œ ìš”ì¸ì— ëŒ€í•œ ì „ì²´ì ì¸ ìƒê´€ê³„ìˆ˜ ê°’ì˜ í¬ê¸°ê°€ ì‘ê²Œ ë„ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.
    - ì´ëŠ” ê±´ê°• ìƒíƒœì™€ ë‹¤ë¥¸ ë³€ìˆ˜ê°„ì˜ ì§ì ‘ì ì¸ ì„ í˜•ê´€ê³„ê°€ ë†’ì§€ ì•Šë‹¤ëŠ” ê²ƒìœ¼ë¡œ í•´ì„ë  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.
    - í•´ë‹¹ ë³€ìˆ˜ë“¤ ì¤‘ì—ì„œë„ ì•ì„œ ê·¸ë˜í”„ë¥¼ í†µí•´ í™•ì¸í–ˆë˜ **ì„±ë³„(sex)ê³¼ ê±´ê°•ìƒíƒœ(health)ì˜ ê´€ê³„ê°€ ê°€ì¥ ë†’ì€ ìƒê´€ê´€ê³„ë¥¼ ê°–ëŠ” ê²ƒ**ìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.
      - ì´ëŠ” ì—¬í•™ìƒì´ **binary ë³€ìˆ˜ ì¤‘ 1ì˜ ê°’ì„ ê°–ê³  ìˆê¸° ë•Œë¬¸ì— ì—¬í•™ìƒì¼ ìˆ˜ë¡ ê±´ê°•íƒœê°€ ì•ˆì¢‹ì€ ê²½í–¥ì´ ìˆëŠ” ê²ƒ**ìœ¼ë¡œ ì•ì„  ê²°ê³¼ì™€ ë™ì¼í•˜ê²Œ í•´ì„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - **other - other: ë…ë¦½ë³€ìˆ˜**ê°„ ìƒê´€ê³„ìˆ˜ ë¶„ì„ ê²°ê³¼
    - Dalc - Walc: ì„œë¡œê°„ ìƒê´€ê³„ìˆ˜ê°€ 0.62ë¡œ ì£¼ë§, ì£¼ì¤‘ ì•Œì½œ ì„­ì·¨ëŸ‰ ì¤‘ í•˜ë‚˜ê°€ ë†’ì„ ê²½ìš° ë‹¤ë¥¸ ìš”ì¼ì—ë„ ì•Œì½œ ì„­ì·¨ëŸ‰ğŸºÂ ì´ ë†’ì€ ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.
      ~~ì—­ì‹œ ìˆ ì€ í‰ì¼, ì£¼ë§ êµ¬ë¶„ì´ ì—†ì£ â€¦~~
    - ì„±ì (G1~G3): ì„œë¡œê°„ ìƒê´€ê³„ìˆ˜ê°€ 0.8 ì´ìƒìœ¼ë¡œ, ê° í•™ë…„ë³„ ì„±ì ì´ ë†’ìœ¼ë©´ ë‹¤ë¥¸ í•™ë…„ë³„ ì„±ì ë„ ë†’ì€ ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ìš°ë“±ìƒì€ ëê¹Œì§€ ìš°ë“±ìƒì¼ ìˆ˜ ìˆê² êµ°ìš”.
    - **failures - ì„±ì (G1~G3)**: ìƒê´€ê³„ìˆ˜ê°€ -0.41ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ ì œì ì´ ë§ì„ ìˆ˜ë¡ ì„±ì ì´ ë‚®ì€ ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìƒê°í•´ë³´ë©´ ë‹¹ì—°í•œ ê²°ê³¼ì¼ ìˆ˜ë„ ìˆê² ë„¤ìš”.
      ![Untitled](images/Untitled%2082.png)

### ê±´ê°•ìƒíƒœ(health) ë°ì´í„° EDA ì†Œê²°

ìš°ë¦¬ëŠ” health ë³€ìˆ˜ì™€ ê° ë³€ìˆ˜ê°„ ìƒê´€ê´€ê³„ ë¶„ì„ì„ í†µí•´ í•™ìƒë“¤ì˜ ê±´ê°•ìƒíƒœ ì˜ˆì¸¡ì— í•„ìš”í•œ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.

- **ê±´ê°•ìƒíƒœ(ì„¤ëª…ë³€ìˆ˜)ì™€ ë‹¤ë¥¸ ìš”ì¸(ë…ë¦½ë³€ìˆ˜)ê°„ ìƒê´€ì„±ì€ í¬ì§€ ì•Š**ìœ¼ë‚˜, ìƒëŒ€ì ìœ¼ë¡œ **sex, reason_reputation, Walc, freetime, famrel ìˆœìœ¼ë¡œ ìƒê´€ì„±ì´ ë†’ê²Œ ë„ì¶œ**ë˜ì—ˆìŠµë‹ˆë‹¤.
- ë…ë¦½ë³€ìˆ˜ê°„ ìƒê´€ê´€ê³„ê°€ ë†’ì„ ê²½ìš° ëª¨ë¸ì— ë”°ë¼ ë‹¤ì¤‘ê³µì„ ì„±(Multicollinearity)ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ìš”. í†µê³„ëª¨ë¸ì„ ê³ ë¯¼í•œë‹¤ë©´? ì ì ˆí•œ ëŒ€ì±…ì„ ì„¸ì›Œì•¼í•  ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.
  ë¬¼ë¡  ìš°ë¦¬ëŠ” íŠ¸ë¦¬ê¸°ë°˜ì˜ ëª¨ë¸ì¸ lightgbmì„ ì‚¬ìš©í•  ì˜ˆì •ì´ê¸° ë•Œë¬¸ì— í° ë¬¸ì œëŠ” ì—†ê² ë„¤ìš”!

### 2. ëª¨ë¸ë§

ì´ì œ ë¬´ì—‡ì„ í•´ì•¼í• ê¹Œìš”? ë‹¨ìˆœí•œ ê°œë³„ ë³€ìˆ˜ê°„ì˜ ì„ í˜•ê´€ê³„ê°€ ì•„ë‹Œ, ê±´ê°• ìƒíƒœì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³µí•©ì ì¸ ìš”ì¸ì„ ì‚´í´ë³´ëŠ”ê²Œ ì¢‹ê² ì–´ìš”.

**1) ê°„ë‹¨í•œ lightGBM(Classification) ëª¨ë¸ ë§Œë“¤ê¸°**

ì´ì œ í•™ìƒë“¤ì˜ ê±´ê°•ìƒíƒœë¥¼ ì˜ˆì¸¡í•˜ëŠ” ê°„ë‹¨í•œ ëª¨ë¸ì„ ë§Œë“¤ì–´ ë³´ê³  ëª¨ë¸ì— ë³€ìˆ˜ê°€ ë¯¸ì¹˜ëŠ” ì˜í–¥(ì¤‘ìš”ë„)ì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.

**ë³€ìˆ˜ ì¤‘ìš”ë„ë¥¼ í™•ì¸í•˜ë ¤ëŠ” ëª©ì ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— í•˜ì´í¼ íŒŒë¼ë¯¸í„° íŠœë‹ì„ í•˜ì§€ ì•Šê³  ê°„ë‹¨í•˜ê²Œ ì§„í–‰**í•˜ê² ìŠµë‹ˆë‹¤.

- _codeâ€¦_
  - Data preprocessing
    - Encoding
      ë²”ì£¼í˜• ë³€ìˆ˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¸ì½”ë”©ì„ ì§„í–‰í•©ë‹ˆë‹¤.
      Fjob, Mjob â†’ `'Fjob_at_home', 'Fjob_health', 'Fjob_other', 'Fjob_services', 'Fjob_teacher'` â†’ binary í˜•íƒœë¡œ ë³€í™˜
      guardian â†’ `'guardian_mother', 'guardian_father', 'guardian_other'` â†’ binary í˜•íƒœë¡œ ë³€í™˜
    - Standardization
      ì—°ì†í˜• ë³€ìˆ˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ í‘œì¤€í™”ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
    - ë³€ìˆ˜ ê²°í•©, ì œê±°
      ë…ë¦½ë³€ìˆ˜ê°„ ìƒê´€ì„±ì´ ë†’ì•˜ë˜ ë³€ìˆ˜ë¥¼ ê²°í•©í•˜ê³  ê¸°ì¡´ ë³€ìˆ˜ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
      Dalc + Walc â†’ `'Talc'`
      G1~G3 í‰ê·  â†’ `'TG'`
  ```python

  ```

**2) Feature Importance**

í•™ìŠµì‹œí‚¨ lightgbm íšŒê·€ ëª¨ë¸ì—ì„œ ë³€ìˆ˜ ì¤‘ìš”ë„ë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.

- í•™ìƒì˜ ê±´ê°•ì„ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì—ì„œ í‰ê·  ì„±ì (TG) ë³€ìˆ˜ê°€ ë†’ì€ ì˜í–¥ë ¥ì„ ê°€ì§„ ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ë„¤ìš”. ê³¼ì—°, ê³¼ì¤‘í•œ ê³µë¶€ëŠ” ê±´ê°•ì— ì•…ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì¼ê¹Œìš”? ğŸ¤”
- ê·¸ ë‹¤ìŒìœ¼ë¡œ ì¤‘ìš”ë„ê°€ ë†’ì€ ë³€ìˆ˜ë¡œëŠ” absences(ê²°ì„), Talc(ì´ ìŒì£¼ëŸ‰)ì´ ìˆìŠµë‹ˆë‹¤. ê²°ì„ê³¼ ì´ ìŒì£¼ëŸ‰ì€ ìš°ë¦¬ì˜ í•™ìƒë“¤ì˜ ê±´ê°•ì— ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ì˜í–¥ì„ ë¯¸ì¹ ê¹Œìš”?
- ì´ ìƒí™©ì—ì„œëŠ” ê° ë³€ìˆ˜ì˜ ì¤‘ìš”ë„ëŠ” ì•Œ ìˆ˜ ìˆì—ˆì§€ë§Œ ëª¨ë¸ì˜ ì˜ˆì¸¡ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì³¤ëŠ”ì§€ í™•ì •í•  ìˆ˜ ì—†ì„ ê²ƒ ê°™êµ°ìš”â€¦ ê·¸ëŸ¼ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ ë´…ì‹œë‹¤.

![Untitled](images/Untitled%2083.png)

**3) XAI - SHAP**

- SHAPì´ë€? (ì¶”ê°€ ì˜ˆì •)
  -
- XAI ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ SHAPì„ ì‚¬ìš©í•´ ëª¨ë¸ì˜ íŒë‹¨ ê³¼ì •ì„ ë”°ë¼ê°€ ë³´ê² ìŠµë‹ˆë‹¤.
- summary plot
  SHAPì˜ summary_plot ì¤‘ dot plotì€ SHAP Valueì™€ ë…ë¦½ë³€ìˆ˜ ê°„ì˜ ìƒê´€ê´€ê³„ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ìš°ë¦¬ëŠ” ì´ë¥¼ í†µí•´ ë…ë¦½ë³€ìˆ˜ê°€ ì˜ˆì¸¡ì— ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ì˜í–¥ì„ ë¯¸ì³¤ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ìš”.
  â˜ï¸Â ì˜ˆë¥¼ ë“¤ì–´ SHAP Valueê°€ ìŒìˆ˜(ì¢Œì¸¡)ë¼ëŠ” ê²ƒì€ ì˜ˆì¸¡ê°’ì„ ê°ì†Œ(health ğŸ”½)ì‹œì¼°ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ê³ , ì–‘ìˆ˜(ìš°ì¸¡)ëŠ” ì˜ˆì¸¡ê°’ì„ ì¦ê°€(health ğŸ”¼)ì‹œì¼°ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤!
  âœŒï¸Â ìƒ‰ìƒì€ ê° ë³€ìˆ˜ì˜ ìˆ˜ì¹˜ì ì¸ ì¦ê°ì„ ë‚˜íƒ€ë‚´ê²Œ ë˜ëŠ”ë° ì„±ë³„(sex)ì„ ë³´ë©´ **ìŒì˜ ë°©í–¥**ìœ¼ë¡œ **ë¹¨ê°„ ì ** ğŸ”´Â ë“¤ì´ ì£¼ë¡œ ë¶„í¬ë˜ì–´ ìˆê³ , **ì–‘ì˜ ë°©í–¥**ìœ¼ë¡œ **íŒŒë€ ì ** ğŸ”µÂ ë“¤ì´ ë¶„í¬ë˜ì–´ ìˆëŠ” ê²ƒ ë³´ì´ì‹œë‚˜ìš”? â†’ ì´ëŠ” ì„±ë³„ ë³€ìˆ˜ì˜ **ê°’ì´ ì¦ê°€í• (=ì—¬í•™ìƒ)** ìˆ˜ë¡ ê±´ê°• ìƒíƒœê°€ ë‚®ì•„ì§€ëŠ” ê²ƒìœ¼ë¡œ í•´ì„ë  ìˆ˜ ìˆê² ë„¤ìš”!
  ì´ì™€ ê°™ì´ ì•„ë˜ì˜ ê·¸ë˜í”„ë¥¼ ì­‰ í•´ì„í•´ë³¼ê²Œìš”â€¦ Loadingâ€¦ ğŸ§‘â€ğŸ«
  ![Untitled](images/Untitled%2084.png)
- í•™ìƒë³„ output ì²˜ë¦¬ ê³¼ì •
  Force plotì„ ì´ìš©í•˜ë©´ ê°œë³„ ë°ì´í„°ì—ì„œ ê° featureê°€ targetì— ì–´ë–¤ ì˜í–¥ì„ ì¤¬ëŠ”ì§€ë¥¼ í•´ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - A í•™ìƒ
    í•œ í•™ìƒì˜ ê²½ìš°ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì˜í–¥ì´ í° ìœ„ì£¼ë¡œ ë§í•´ë³¼ê²Œìš”.
    - ê±´ê°•ì— - ìš”ì¸: ì—¬í•™ìƒì´ê³ , ìˆ  ì„­ì·¨ëŸ‰ì´ ì¤‘ê°„ìˆ˜ì¤€ì´ê³ , ê³µë¶€ì‹œê°„ì´ ì ë‹¤.
    - ê±´ê°•ì— + ìš”ì¸: ë‚˜ì´ê°€ ì ê³ , ë‚˜ê°€ì„œ ë§ì´ ë†€ê³ , í†µí–‰ì‹œê°„ì´ ë§ê³ , ê°€ì¡±ë“¤ì˜ ê³µë¶€ ì§€ì›ì´ ì—†ë‹¤.
  ![Untitled](images/Untitled%2085.png)

### 3. ìœ ì‚¬ ì»¬ëŸ¼ ê¸°ì¤€ í´ëŸ¬ìŠ¤í„°ë§

**ê±´ê°•ê³¼ ê´€ë ¨ì´ ë†’ì€ ë³€ìˆ˜ë“¤**ì„ í†µí•´ í•™ìƒë“¤ì˜ ê±´ê°• ìœ í˜•ì„ êµ¬ë¶„í•  ìˆ˜ ìˆì„ê¹Œìš”?

ë§Œì•½ êµ¬ë¶„ì„ í•œë‹¤ë©´ **ì–´ë–¤ ìœ í˜•ë“¤ë¡œ êµ¬ë¶„**ë˜ê³ , ë˜ ê·¸ **ìœ í˜•ë“¤ì˜ íŠ¹ì§•**ì€ ë¬´ì—‡ì¼ê¹Œìš”?

**1) Kmeans Clustering**

- ë¨¼ì €, **ë³€ìˆ˜ ì¤‘ìš”ë„ê°€ ë†’ì•˜ë˜ ë…ë¦½ë³€ìˆ˜ë“¤ì„ ê¸°ì¤€ìœ¼ë¡œ í•™ìƒë“¤ì„ ê·¸ë£¹**ìœ¼ë¡œ ë‚˜ëˆ ì£¼ë ¤ í•´ìš”.
- ê·¸ë£¹í™” ëŒ€ìƒ ë³€ìˆ˜ëŠ” ìš°ë¦¬ì˜ target ë³€ìˆ˜(health)ì™€ ì´ì „ ëª¨ë¸ì—ì„œ ì¤‘ìš”ë„ê°€ ë†’ì•˜ë˜ ë³€ìˆ˜(TG, absences, Talc) ì´ 4ê°€ì§€ë¡œ ì •í•´ë´…ì‹œë‹¤...!
- ë‹¤ìŒì€ ë³€ìˆ˜ê°„ ë¶„í¬ë¥¼ ë‚˜íƒ€ë‚´ëŠ” pair plotì…ë‹ˆë‹¤.
- _codeâ€¦_
  ```python
  # ê·¸ë£¹í™”í•  íŠ¹ì„±
  c_cols = ['health', 'TG', 'absences', 'Talc']

  # í´ëŸ¬ìŠ¤í„°ë§ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ ë³€ìˆ˜ í‘œì¤€í™”
  scaler = StandardScaler()
  df_standard = scaler.fit_transform(data[c_cols])
  standard = pd.DataFrame(df_standard, columns = c_cols)

  # pair plotì„ í™œìš©í•´ healthì™€ íŠ¹ì„±ê°„ì˜ íŠ¹ì„±ì„ í™•ì¸í•©ë‹ˆë‹¤.
  sns.pairplot(standard, hue="health")
  plt.show()
  ```

![Untitled](images/Untitled%2086.png)

- ë‹¤ìŒì€, ëŒ€ìƒ íŠ¹ì„±ë“¤ì˜ ì ì • êµ°ì§‘ ìˆ˜ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ **Inertia(êµ°ì§‘ ë‚´ ê±°ë¦¬ì œê³±í•©ì˜ í•©) value (ì ì • êµ°ì§‘ìˆ˜) ê·¸ë˜í”„**ë¥¼ ê·¸ë ¤ë´…ë‹ˆë‹¤.
- _codeâ€¦_
  ```python
  # ì ì ˆí•œ êµ°ì§‘ìˆ˜ ì°¾ê¸°
  # Inertia(êµ°ì§‘ ë‚´ ê±°ë¦¬ì œê³±í•©ì˜ í•©) value (ì ì • êµ°ì§‘ìˆ˜)

  ks = range(1,10)
  inertias = []

  for k in ks:
      model = KMeans(n_clusters=k)
      model.fit(standard)
      inertias.append(model.inertia_)

  # Plot ks vs inertias
  plt.figure(figsize=(4, 4))

  plt.plot(ks, inertias, '-o')
  plt.xlabel('number of clusters, k')
  plt.ylabel('inertia')
  plt.xticks(ks)
  plt.show()
  ```

![Untitled](images/Untitled%2087.png)

- ê·¸ë˜í”„ë¥¼ ë³´ë‹ˆ **k=4ë¥¼ ê¸°ì¤€**ìœ¼ë¡œ ê¸°ìš¸ê¸°ê°€ ìƒëŒ€ì ìœ¼ë¡œ ì™„ë§Œí•´ì§€ëŠ”êµ°ìš”? êµ°ì§‘ ìˆ˜(k)ë¥¼ 4ê°œë¡œ ì„¤ì •í•˜ê³  **kmeas í´ëŸ¬ìŠ¤í„°ë§ì„ ì§„í–‰**í•˜ê² ìŠµë‹ˆë‹¤.
- í•™ìƒë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ 4ê°€ì§€ ê·¸ë£¹ìœ¼ë¡œ êµ¬ë¶„ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¼ ë‹¤ìŒ ë‹¨ê³„ì—ì„œëŠ” ê° ê·¸ë£¹ì´ ì–´ë–¤ í•™ìƒë“¤ì„ ëŒ€í‘œí•˜ê³  ìˆëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.
  - _codeâ€¦_
    ```python
    # K-Means ëª¨ë¸ê³¼ êµ°ì§‘ ì˜ˆì¸¡ê°’ì„ ìƒì„±

    # í´ëŸ¬ìŠ¤í„° ëª¨ë¸ ìƒì„± íŒŒë¼ë¯¸í„° ì„¤ì •
    clust_model = KMeans(n_clusters = 4 # í´ëŸ¬ìŠ¤í„° ê°¯ìˆ˜
                         , n_init=10 # initial centroidë¥¼ ëª‡ë²ˆ ìƒ˜í”Œë§í•œê±´ì§€, ë°ì´í„°ê°€ ë§ìœ¼ë©´ ë§ì´ ëŒë¦´ìˆ˜ë¡ì•ˆì •í™”ëœ ê²°ê³¼ê°€ ë‚˜ì˜´
                         , max_iter=500 # KMeansë¥¼ ëª‡ë²ˆ ë°˜ë³µ ìˆ˜í–‰í• ê±´ì§€, Kê°€ í° ê²½ìš° 1000ì •ë„ë¡œ ë†’ì—¬ì¤€ë‹¤
                         , random_state = 42
                         , algorithm='auto'
                        )

    # ìƒì„±í•œ ëª¨ë¸ë¡œ ë°ì´í„°ë¥¼ í•™ìŠµì‹œí‚´
    clust_model.fit(standard) # unsupervised learning

    # ê²°ê³¼ ê°’ì„ ë³€ìˆ˜ì— ì €ì¥
    centers = clust_model.cluster_centers_ # ê° êµ°ì§‘ì˜ ì¤‘ì‹¬ì 
    pred = clust_model.predict(standard) # ê° ì˜ˆì¸¡êµ°ì§‘

    print(pd.DataFrame(centers))
    print(pred[:10])
    ```
  ![Untitled](images/Untitled%2088.png)

**2) ê·¸ë£¹ë³„ íŠ¹ì„± í™•ì¸**

- ê° ê·¸ë£¹ì˜ íŠ¹ì„±ë³„ í‰ê· ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ê° ê·¸ë£¹ë³„ íŠ¹ì„± ë³€ìˆ˜ì˜ boxplotë„ í•¨ê»˜ ì‚´í´ë³¼ê²Œìš”.
  | group | health(ê±´ê°• ìƒíƒœ) | TG(í‰ê·  ì„±ì ) | Absences(ê²°ì„ ìˆ˜) | Talc(ì´ ìŒì£¼ëŸ‰) |
  | ----- | ----------------- | ------------- | ----------------- | --------------- |
  | 0     | 4.6817            | 12.5042       | 2.8732            | 2.9183          |
  | 1     | 3.4146            | 10.1707       | 19.5610           | 4.2073          |
  | 2     | 2.0663            | 12.1344       | 2.8425            | 2.0724          |
  | 3     | 4.1184            | 8.5605        | 3.9878            | 6.0734          |
  ![Untitled](images/Untitled%2089.png)
  - ì €ëŠ” ìœ„ì˜ í‰ê· ê°’ê³¼ ë¶„í¬ë¥¼ ë³´ê³  ë‹¤ìŒê³¼ ê°™ì´ ìœ í˜•ì„ ì„¤ëª…í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë„¤ìš”.
    - **0(í—¤ë¥´ë¯¸ì˜¨ëŠ í˜•)** - **ê±´ê°•í•˜ê³ , ì„±ì ì´ ì¤‘ìƒìœ„ê¶Œì´ê³ , ìˆ ì„ ì˜ ì•ˆë§ˆì‹œëŠ” í•™ìƒ**
    - **1(ìœ„ì¦ë¦¬ í˜•)** - **ê²°ì„ì´ ë§ê³ , ì„±ì ì´ ì¤‘ìƒìœ„ê¶Œì´ê³ , ìˆ ì„ ì ë‹¹íˆ ë§ˆì‹œëŠ” í•™ìƒ**
    - **2(ë§í¬ì´ í˜•)** - **ê±´ê°•ì´ ë‚˜ì˜ê³ , ì„±ì ì´ ì¤‘ìƒìœ„ê¶Œì´ê³ , ìˆ ì„ ì˜ ì•ˆë§ˆì‹œëŠ” í•™ìƒ**
    - **3(í•´ê·¸ë¦¬ë“œ í˜•)** - **ê±´ê°•ì´ ì¢‹ê³ , ì„±ì ì´ ì¤‘í•˜ìœ„ê¶Œì´ê³ , ìˆ ì„ ë§ì´ ë§ˆì‹œëŠ” í•™ìƒ**
  - ê° ê·¸ë£¹ë³„ featureì˜ ë¶„í¬ë¥¼ ë³´ê³ ì‹¶ë‹¤ë©´ ì—´ì–´ë³´ì„¸ìš”!
    ![Untitled](images/Untitled%2090.png)

**3) Feature importance**

- ì´ì œ ê° í•™ìƒë“¤ì˜ ìœ í˜• ë¶„ë¥˜ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì¤‘ìš” ìš”ì†Œë¥¼ ë‹¤ì‹œ êµ¬í•´ë³´ê² ìŠµë‹ˆë‹¤. (**LGBM classification**)
- ì´ì „ íšŒê·€ëª¨ë¸ë“¤ê³¼ëŠ” ë‹¤ë¥´ê²Œ **ì—¬ê°€ìƒí™œ(goout)**ê³¼ **ë‚˜ì´(age)ê°€** ë†’ê²Œ ë„ì¶œë˜ì—ˆìŠµë‹ˆë‹¤. í•™ìƒë“¤ì€ ë‚˜ì´ì— ë”°ë¼ ë‹¤ë¥¸ ìœ í˜•ì— ì†í•˜ëŠ” ê±¸ê¹Œìš”? ìƒìœ„ ë³€ìˆ˜ì— ëŒ€í•œ ë¶„í¬ë„ ê°™ì´ ë³´ê² ìŠµë‹ˆë‹¤.

![Untitled](images/Untitled%2091.png)

- **goout**: 3ë²ˆ í•´ê·¸ë¦¬ë“œ ìœ í˜•ì€ ë†€ëŸ¬ë‚˜ê°€ëŠ” ìœ í˜•ì´ íŠ¹íˆ ë§ì•„ë³´ì´ë„¤ìš”. í•´ê·¸ë¦¬ë“œëŠ” ì¸ì‹¸ì¸ ê±¸ê¹Œìš”?
- **age**: í—¤ë¥´ë¯¸ì˜¨ëŠ ìœ í˜•ì—ëŠ” ë‚˜ì´ê°€ ìƒëŒ€ì ìœ¼ë¡œ ì ì€ í•™ìƒë“¤ì´ í¬í•¨ë˜ì—ˆë„¤ìš”. ì—­ì‹œ ì˜ì§€ëŠ” ì†Œëª¨í’ˆì´ì£ !
- **freetime**: í—¤ë¥´ë¯¸ì˜¨ëŠ ìœ í˜•ê³¼ í•´ê·¸ë¦¬ë“œ ìœ í˜• ë‘˜ ë‹¤ ìƒëŒ€ì ìœ¼ë¡œ ë°©ê³¼ í›„ ë‚¨ëŠ” ì‹œê°„ì„ ë§ì´ ê°–ëŠ” í•™ìƒë“¤ì´ ì†í•´ ìˆêµ°ìš”.
- **Medu, Fedu**: í—¤ë¥´ë¯¸ì˜¨ëŠ ìœ í˜•, ë§í¬ì´ ìœ í˜•ì€ ìƒëŒ€ì ìœ¼ë¡œ ì–´ë¨¸ë‹ˆì˜ êµìœ¡ ìˆ˜ì¤€ì´ ë†’ê³  ê·¸ ì¤‘ í—¤ë¥´ë¯¸ì˜¨ëŠ ìœ í˜•ì€ ì•„ë²„ì§€ì˜ êµìœ¡ ìˆ˜ì¤€ê¹Œì§€ ë†’ì€ í•™ìƒë“¤ì´ ëŒ€ë‹¤ìˆ˜ë„¤ìš”!
  ë°˜ëŒ€ë¡œ í•´ê·¸ë¦¬ë“œ ìœ í˜•ì€ ë¶€ëª¨ë‹˜ì˜ êµìœ¡ ìˆ˜ì¤€ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ ìœ í˜•ì˜ í•™ìƒë“¤ì´ ë§ì´ í¬í•¨ë˜ì—ˆì–´ìš”.
- **studytime**: ê³µë¶€ ì‹œê°„ì€ í—¤ë¥´ë¯¸ì˜¨ëŠ ìœ í˜•ì— ê³µë¶€ê´‘ í•™ìƒë“¤ì´ ë§ì´ í¬í•¨ë˜ì—ˆêµ°ìš”. ìœ„ì¦ë¦¬ ìœ í˜•ê³¼ í•´ê·¸ë¦¬ë“œ ìœ í˜•ì€ ìƒëŒ€ì ìœ¼ë¡œ ê³µë¶€ì‹œê°„ì´ ì ê³ , ë§í¬ì´ ìœ í˜•ì€â€¦. ê·¹ê³¼ ê·¹ì´ë„¤ìš”.
  ê³µë¶€ë¥¼ ì•ˆí•´ë„ ì„±ì ì„ ì˜ ìœ ì§€í•˜ëŠ” ê±¸ê¹Œìš”? ì—­ì‹œ ê³µë¶€ëŠ” ì¬ëŠ¥ìˆœì¸ê°€ë´ìš”.
      ![Untitled](images/Untitled%2092.png)
- ê·¸ë£¹ë³„ë¡œ íŠ¹ì„±ì´ ë‹¤ë¥¸ ì ì´ ì¡°ê¸ˆ ë³´ì´ë„¤ìš”. ê·¸ëŸ¬ë‚˜ ê²°ê³¼ë¥¼ ì™„ì „íˆ ì‹ ë¢°í•  ìˆ˜ëŠ” ì—†ì„ ê²ƒ ê°™ì•„ìš”. ì™œëƒí•˜ë©´â€¦.(open)
  ![Untitled](images/Untitled%2093.png)

<aside>
ğŸ’¡ ì˜¤ëŠ˜ ì•Œê²Œëœ ë‚´ìš©ì„ ì •ë¦¬í•´ ë³´ê² ìŠµë‹ˆë‹¤.

í•™ìƒì˜ ê±´ê°•ì„ ì¢‹ê²Œí•˜ëŠ” ì¡°ê±´ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.

- ì„±ë³„(sex): ë‚¨í•™ìƒì˜ ê±´ê°•ì´ ìƒëŒ€ì ìœ¼ë¡œ ì¢‹ì€ ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë„ë¹„ì˜ ì„±ë³„ì„ ë°”ê¿€ìˆ˜ëŠ”â€¦ ì•„ë‹ˆ ì ê¹, ë„ë¹„ê°€ ì„±ë³„ì´ ìˆë‚˜ìš”?
- ì„±ì (grade): ì„±ì ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ í•™ìƒë“¤ì´ ê±´ê°•ì´ ì¢‹ì•˜ìŠµë‹ˆë‹¤. ì—­ì‹œ ê³µë¶€ëŠ” ìŠ¤íŠ¸ë ˆìŠ¤ì˜ ì›ì¸ì´ì£ â€¦
- ê°€ì¡±ê´€ê³„(famrel): ê°€ì¡±ê´€ê³„ê°€ ì¢‹ì€ í•™ìƒë“¤ì´ ê±´ê°•ì´ ìƒëŒ€ì ìœ¼ë¡œ ì¢‹ì€ ê²°ê³¼ê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤. ë„ë¹„ëŠ” í–‰ë³µí•œ ê°€ì •ì´ í•„ìš”í•œê²Œ ë§êµ°ìš”?
- í†µí•™ì‹œê°„(traveltime): í†µí•™ì‹œê°„ì´ ê¸¸ìˆ˜ë¡ í•™ìƒë“¤ì˜ ê±´ê°•ì´ ì•ˆì¢‹ì€ ê²°ê³¼ê°€ ë‚˜ì™”ì–´ìš”. í•™êµ ê°€ëŠ” ê¸¸ì´ ë„ˆë¬´ í˜ë“ ê°€ë´ìš”..

ë˜ ìš°ë¦¬ì˜ ë„ë¹„ë¥¼ í—¤ë¥´ë¯¸ì˜¨ëŠ ê°™ì´ í‚¤ìš¸ì§€, í•´ê·¸ë¦¬ë“œ ê°™ì´ í‚¤ìš¸ì§€ëŠ” ê³ ë¯¼ì„ í•´ë´ì•¼ê² ì–´ìš”â€¦
í—¤ë¥´ë¯¸ì˜¨ëŠ ìœ í˜•ìœ¼ë¡œ í‚¤ìš°ë ¤ë©´ íŠ¹ì§•ì ìœ¼ë¡œ ë°©ê³¼ í›„ ì—¬ê°€ ì‹œê°„ì´ ë§ê³ , ë¶€ëª¨ë‹˜ì˜ í•™ì—…ìˆ˜ì¤€ì´ ë†’ê³ , ê³µë¶€ì‹œê°„ì´ ê¸´ í¸ì´ ì¢‹ê² ì–´ìš”.
ë°˜ëŒ€ë¡œ í•´ê·¸ë¦¬ë“œ ìœ í˜•ìœ¼ë¡œ í‚¤ìš°ë ¤ë©´â€¦ ë‚˜ê°€ì„œ ë§ì´ ë†€ê³ , ë¶€ëª¨ë‹˜ì˜ í•™ì—…ìˆ˜ì¤€ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ê³ , ê³µë¶€ì‹œê°„ì´ ì ì€ í¸ì´ ì¢‹ê² ë„¤ìš”.

</aside>

## ê²°ë¡ 

**ë•(**ë‚®ì€ ìŒì£¼ëŸ‰)ì´ ìš°ìˆ˜í•œ í•™ìƒì˜ íŠ¹ì§•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

**ë• : (ë‚®ì€ ìŒì£¼ëŸ‰)**

1. **ì•½ì† ë¹ˆë„ê°€ ë‚®ì€ í•™ìƒì¼ìˆ˜ë¡ ìŒì£¼ëŸ‰ì´ ì ìŒ**
2. **ë¶€ëª¨ë‹˜ê³¼ í•¨ê»˜ ê±°ì£¼í•˜ëŠ” ì¹œêµ¬ì¼ìˆ˜ë¡ ìŒì£¼ëŸ‰ì´ ì ìŒ**
3. **í•™ì—…ì— ëŒ€í•œ ì—´ì˜ê°€ ë†’ì„ìˆ˜ë¡ ìŒì£¼ëŸ‰ì´ ì ìŒ**
4. **ì—¬í•™ìƒì˜ ìŒì£¼ ë¹„ìœ¨ì´ ë‚¨í•™ìƒë³´ë‹¤ í˜„ê²©íˆ ì ìŒ**
5. **ìŒì£¼ëŸ‰ì´ ë‚®ì€ í•™ìƒì¼ìˆ˜ë¡ ê±´ê°•í•œ í•™ìƒì´ ë§ìŒ**
6. **ìŒì£¼ëŸ‰ì´ ë‚®ì€ í•™ìƒì¼ìˆ˜ë¡ ëª¨ë“  ê³¼ëª©ì—ì„œ ê³ ë“ì ìê°€ ë§ìŒ (1~3ë“±ê¸‰)**

**ì§€ì™€ ì²´**ëŠ” **Trade - offê´€ê³„**ì— \***\*ìˆìœ¼ë©° **ë†’ì€ ì„±ì **ì€ **ì²´ë ¥ì„ ì†Œëª¨í•œë‹¤ëŠ” ê²ƒ\*\*ì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ê²¹ì¹˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì€â€¦ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤?

**ì§€ : ( ë†’ì€ì„±ì  )**

1. **ì˜ë£Œê³„ ì¢…ì‚¬ìë¡œì„œ ëŒ€í•™ì¡¸ì—… ì´ìƒì˜ ì–´ë¨¸ë‹ˆ, êµìœ¡ê³„ ì¢…ì‚¬ìë¡œì„œ ëŒ€í•™ì¡¸ì—… ì´ìƒì˜ ì•„ë²„ì§€ë¥¼ ë‘ **
2. **3ëª… ì´í•˜ì˜ ê°€ì¡±ì—ì„œ ë¶€ëª¨ë‹˜ë“¤ê³¼ ë™ê±°í•˜ë©°, ì–´ë¨¸ë‹ˆê°€ ë³´í˜¸ìë¡œì„œ ìœ ì¹˜ì›ì„ ë‹¤ë‹˜**
3. **í•™êµì˜ ì§€ì›ë”°ìœˆ í•„ìš”ì—†ê³ , ë¶€ëª¨ì˜ ì§€ì›ì„ ë°›ì•„ ì‚¬êµìœ¡ì„ ì–‘ê» ë°›ì•˜ìœ¼ë©° ë°©ê³¼ í›„ í™œë™ê¹Œì§€ ì•¼ë¬´ì§€ê²Œ í•¨**
4. **ëšœë ·í•œ ëª©í‘œì˜ì‹ì„ ê°€ì ¸ ì¸í„°ë„·ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë©°, ì—°ì• ë”°ìœ„ëŠ” ê¿ˆë„ ê¾¸ì§€ì•Šê³ , ì ë‹¹íˆ í™”ëª©í•œ ê°€ì •ì—ì„œ ìëŒ**
5. **10ì‹œê°„ ì´ìƒì˜ ê³µë¶€ì‹œê°„ê³¼ ì¡°ê¸ˆ ë¶€ì¡±í•œ ì‰¬ëŠ”ì‹œê°„ì„ ê°€ì§**

**ì²´ : ( ê±´ê°•í•¨ )**

1. **ë‚¨í•™ìƒì„**
2. **í†µí•™ì‹œê°„ì´ ì§§ìŒ**
3. **ê°€ì¡±ê´€ê³„ê°€ ì¢‹ìŒ**
4. **ì„±ì ì´ ì¤‘í•˜ìœ„ê¶Œì— ì†í•¨**
5. **ìˆ ì„ ë§ì´ ë§ˆì‹œì§€ ì•ŠìŒ**
6. **í—¤ë¥´ë¯¸ì˜¨ëŠ ìœ í˜•(ê±´ê°•í•˜ê³ , ì„±ì ì´ ì¤‘ìƒìœ„ê¶Œì´ê³ , ìˆ ì„ ì˜ ì•ˆë§ˆì‹œëŠ” í•™ìƒ)ì˜ ê²½ìš°: ë°©ê³¼ í›„ ì—¬ê°€ ì‹œê°„ì´ ë§ê³ , ë‚˜ì´ê°€ ì ìœ¼ë©°, ë¶€ëª¨ë‹˜ì˜ êµìœ¡ìˆ˜ì¤€ì´ ë†’ê³ , ê³µë¶€ì‹œê°„ì´ ê¸´ í¸ì— í•´ë‹¹í•¨**

## References

[1] [lightgbm feature importance](https://hongl.tistory.com/344)

[2] [lightgbm hyperparameter](http://egloos.zum.com/incredible/v/7479081)

[3] [lightgbm metrics](https://towardsdatascience.com/what-are-the-best-metrics-to-evaluate-your-regression-model-418ca481755b)

[4] [lightgbm feature importance type](https://velog.io/@ahj1592/LightGBM-feature-importance)
